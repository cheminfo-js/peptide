{"version":3,"sources":["webpack:///peptide/webpack/universalModuleDefinition","webpack:///peptide/peptide.min.js","webpack:///peptide/webpack/bootstrap 005bc21a31da98d91bbf","webpack:///peptide/./src/index.js","webpack:///peptide/./src/aminoAcids.js","webpack:///peptide/./src/isoElectricPoint.js","webpack:///peptide/./src/chargePeptide.js","webpack:///peptide/./src/getAA.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","aa1To3","code","i","aa","length","aa1","aa3","Error","converAA1To3","mf","newmf","charAt","addNTerm","mfs","nTerm","options","a","push","b","addITerm","iTerm","j","ya","yb","addCTerm","cTerm","x","y","z","IEP","chargePeptide","getInfo","calculateIEP","sequence","aas","replace","split","slice","result","calculateIEPChart","calculateChart","getColorForIEP","iep","getColor","calculateCharge","ph","generatePeptideFragments","undefined","mfparts","k","concat","convertAASequence","search","tmpmf","parts","substr","toLowerCase","name","sc","type","pKaC","pKaN","pKa","pH","combined","combine","charge","calculateForPh","Math","round","currentCharge","first","last","current","previous","abs","yAbs","total","pow","key","acid","aaObject","basic","white","match","firstAA","getAA"],"mappings":"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","file":"peptide.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Peptide\"] = factory();\n\telse\n\t\troot[\"Peptide\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Peptide\"] = factory();\n\telse\n\t\troot[\"Peptide\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar aa = __webpack_require__(1);\n\tvar IEP = __webpack_require__(2);\n\tvar chargePeptide = __webpack_require__(3);\n\t\n\texports.getInfo = function () {\n\t    return aa;\n\t}\n\t\n\t// sequence should be in the \"right\" format like HAlaGlyProOH\n\t\n\texports.calculateIEP = function (sequence) {\n\t    var aas=sequence.replace(/([A-Z])/g,\" $1\").split(/ /);\n\t    aas=aas.slice(2,aas.length-2);\n\t    var result=IEP.calculateIEP(aas);\n\t    return result;\n\t}\n\t\n\texports.calculateIEPChart = function (sequence) {\n\t    var aas=sequence.replace(/([A-Z])/g,\" $1\").split(/ /);\n\t    aas=aas.slice(2,aas.length-2);\n\t    var result=IEP.calculateChart(aas);\n\t    return result;\n\t}\n\t\n\t\n\texports.getColorForIEP = function (iep) {\n\t    return IEP.getColor(iep);\n\t}\n\t\n\texports.calculateCharge = function (sequence, ph) {\n\t    var aas=sequence.replace(/([A-Z])/g,\" $1\").split(/ /);\n\t    aas=aas.slice(2,aas.length-2);\n\t    return IEP.calculateCharge(aas, ph);\n\t}\n\t\n\texports.generatePeptideFragments = function generatePeptideFragments(mf, options) {\n\t    if (options === undefined) {\n\t        options = {\n\t            a: false,\n\t            b: true,\n\t            c: false,\n\t            x: false,\n\t            y: true,\n\t            z: false,\n\t            i: false,\n\t            yb: false,\n\t            ya: false\n\t        };\n\t    }\n\t\n\t    var mfs = [];\n\t    var mfparts=mf.replace(/([a-z\\)])([A-Z][a-z](?=[a-z]))/g,\"$1 $2\").split(/ /);\n\t\n\t    var nTerm=\"\";\n\t    var cTerm=\"\";\n\t    for (var i=1; i<mfparts.length; i++) {\n\t        nTerm+=mfparts[i-1];\n\t        cTerm=mfparts[mfparts.length-i]+cTerm;\n\t        addNTerm(mfs, nTerm, i, options);\n\t        addCTerm(mfs, cTerm, i, options);\n\t        if (options.i) mfs.push(mfparts[i]+\"HC-1O-1(+1)$i:\"+mfparts[i]);\n\t\n\t        if (options.ya || options.yb) { // we have double fragmentations\n\t            for (var j=i+1; j<mfparts.length;j++) {\n\t                var iTerm='';\n\t                for (var k=i; k<j; k++) {\n\t                    iTerm+=mfparts[k];\n\t                }\n\t                addITerm(mfs, iTerm, i, j, options);\n\t            }\n\t        }\n\t    }\n\t\n\t\n\t    if (mfs.length === 0) {\n\t        mfs = mfs.concat([mf]);\n\t    }\n\t\n\t    return mfs;\n\t\n\t};\n\t\n\texports.chargePeptide = chargePeptide;\n\t\n\t\n\tfunction aa1To3(code) {\n\t    for (var i = 0; i < aa.length; i++) {\n\t        if (aa[i].aa1 === code) {\n\t            return aa[i].aa3;\n\t        }\n\t    }\n\t    throw new Error('Invalid 1 letter code: ' + code);\n\t}\n\t\n\tfunction converAA1To3(mf) {\n\t    var newmf = '';\n\t    for (var i = 0; i < mf.length; i++) {\n\t        newmf += aa1To3(mf.charAt(i));\n\t    }\n\t    return newmf;\n\t}\n\t\n\tfunction capitalizeAA3(mf) {\n\t    for (var i = 0; i < aa.length; i++) {\n\t        var regexp = new RegExp(aa[i].aa3, 'gi');\n\t        mf = mf.replace(regexp, aa[i].aa3);\n\t    }\n\t    return mf;\n\t}\n\t\n\t\n\texports.convertAASequence = function convertAASequence(mf) {\n\t    // this function will check if it is a sequence of aa in 1 letter or 3 letters and convert them if it is the case\n\t    // it could be a multiline mf !\n\t    // if it is a multiline we could make some \"tricks\" ...\n\t    var newmf = mf;\n\t    // SEQRES   1 B  256  MET PRO VAL GLU ILE THR VAL LYS GLU LEU LEU GLU ALA\n\t    // SEQRES   2 B  256  GLY VAL HIS PHE GLY HIS GLU ARG LYS ARG TRP ASN PRO\n\t    // or\n\t    // MET PRO VAL GLU ILE THR VAL LYS GLU LEU LEU GLU ALA\n\t    // GLY VAL HIS PHE GLY HIS GLU ARG LYS ARG TRP ASN PRO\n\t    if (mf.search(/[A-Z]{3} [A-Z]{3} [A-Z]{3}/) > -1) {\n\t        // this is a PDB !\n\t        var tmpmf = mf.replace(/[\\r\\n]+/g, ' ');\n\t        tmpmf = tmpmf.replace(/(SEQRES|[0-9]+| [A-Z] | [0-9A-Z]{4-50})/g, '');\n\t        // we need to correct the uppercase / lowercase\n\t        var parts = tmpmf.split(' ');\n\t        newmf = 'H';\n\t        for (var i = 0; i < parts.length; i++) {\n\t            newmf += parts[i].substr(0, 1) + parts[i].substr(1).toLowerCase();\n\t        }\n\t        newmf += 'OH';\n\t    } else if ((mf.search(/[A-Z]{3}/) > -1) && (mf.search(/[a-zA-Z][a-z0-9]/) == -1)) {\n\t        // UNIPROT\n\t        //   370        380        390        400        410        420\n\t        //GFKPNLRKTF VSGLFRESCG AHFYRGVDVK PFYIKKPVDN LFALMLILNR LRGWGVVGGM\n\t        //\n\t        //    430        440        450        460        470        480\n\t        //SDPRLYKVWV RLSSQVPSMF FGGTDLAADY YVVSPPTAVS VYTKTPYGRL LADTRTSGFR\n\t        // We remove all the number, all the spaces, etc\n\t        newmf = 'H' + converAA1To3(newmf.replace(/[^A-Z]/g, '')) + 'OH';\n\t    }\n\t\n\t    return newmf;\n\t\n\t};\n\t\n\tfunction addNTerm(mfs, nTerm, i, options) {\n\t    if (options.a) mfs.push(nTerm+\"C-1O-1(+1)$a\"+i);\n\t    if (options.b) mfs.push(nTerm+\"(+1)$b\"+i);\n\t    if (options.c) mfs.push(nTerm+\"NH3(+1)$c\"+i);\n\t}\n\t\n\tfunction addITerm(mfs, iTerm, i, j, options) {\n\t    if (options.ya) mfs.push(\"H\"+iTerm+\"C-1O-1(+1)$a\"+j+\"y\"+i);\n\t    if (options.yb) mfs.push(\"H\"+iTerm+\"(+1)$b\"+j+\"y\"+i);\n\t}\n\t\n\tfunction addCTerm(mfs, cTerm, i, options) {\n\t    if (options.x) mfs.push(\"CO(+1)\"+cTerm+\"$x\"+i);\n\t    if (options.y) mfs.push(\"H2(+1)\"+cTerm+\"$y\"+i);\n\t    if (options.z) mfs.push(\"N-1H-1(+1)\"+cTerm+\"$z\"+i);\n\t}\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// SOURCE: https://en.wikipedia.org/wiki/Amino_acid\n\tmodule.exports = [\n\t    // Standard amino acids\n\t    {\n\t        name: \"Alanine\",\n\t        aa3: \"Ala\",\n\t        aa1: \"A\",\n\t        sc: {\n\t            type: \"hydrophobic\"\n\t        },\n\t        pKaC: 2.33,\n\t        pKaN: 9.71\n\t    },\n\t    {\n\t        name: \"Arginine\",\n\t        aa3: \"Arg\",\n\t        aa1: \"R\",\n\t        sc: {\n\t            type: \"positive\",\n\t            pKa: 12.10\n\t        },\n\t        pKaC: 2.03,\n\t        pKaN: 9.00\n\t    },\n\t    {\n\t        name: \"Asparagine\",\n\t        aa3: \"Asn\",\n\t        aa1: \"N\",\n\t        sc: {\n\t            type: \"polar\"\n\t        },\n\t        pKaC: 2.13,\n\t        pKaN: 9.05\n\t    },\n\t    {\n\t        name: \"Aspartic acid\",\n\t        aa3: \"Asp\",\n\t        aa1: \"D\",\n\t        sc: {\n\t            type: \"negative\",\n\t            pKa: 3.71\n\t        },\n\t        pKaC: 1.95,\n\t        pKaN: 9.66\n\t    },\n\t    {\n\t        name: \"Cysteine\",\n\t        aa3: \"Cys\",\n\t        aa1: \"C\",\n\t        sc: {\n\t            type: \"special\",\n\t            pKa: 8.14\n\t        },\n\t        pKaC: 1.91,\n\t        pKaN: 10.28\n\t    },\n\t    {\n\t        name: \"Glutamic acid\",\n\t        aa3: \"Glu\",\n\t        aa1: \"E\",\n\t        sc: {\n\t            type: \"negative\",\n\t            pKa: 4.15\n\t        },\n\t        pKaC: 2.16,\n\t        pKaN: 9.58\n\t    },\n\t    {\n\t        name: \"Glutamine\",\n\t        aa3: \"Gln\",\n\t        aa1: \"Q\",\n\t        sc: {\n\t            type: \"polar\"\n\t        },\n\t        pKaC: 2.18,\n\t        pKaN: 9.00\n\t    },\n\t    {\n\t        name: \"Glycine\",\n\t        aa3: \"Gly\",\n\t        aa1: \"G\",\n\t        sc: {\n\t            type: \"special\"\n\t        },\n\t        pKaC: 2.34,\n\t        pKaN: 9.58\n\t    },\n\t    {\n\t        name: \"Histidine\",\n\t        aa3: \"His\",\n\t        aa1: \"H\",\n\t        sc: {\n\t            type: \"positive\",\n\t            pKa: 6.04\n\t        },\n\t        pKaC: 1.70,\n\t        pKaN: 9.09\n\t    },\n\t    {\n\t        name: \"Isoleucine\",\n\t        aa3: \"Ile\",\n\t        aa1: \"I\",\n\t        sc: {\n\t            type: \"hydrophobic\"\n\t        },\n\t        pKaC: 2.26,\n\t        pKaN: 9.60\n\t    },\n\t    {\n\t        name: \"Leucine\",\n\t        aa3: \"Leu\",\n\t        aa1: \"L\",\n\t        sc: {\n\t            type: \"hydrophobic\"\n\t        },\n\t        pKaC: 2.32,\n\t        pKaN: 9.58\n\t    },\n\t    {\n\t        name: \"Lysine\",\n\t        aa3: \"Lys\",\n\t        aa1: \"K\",\n\t        sc: {\n\t            type: \"positive\",\n\t            pKa: 10.67\n\t        },\n\t        pKaC: 2.15,\n\t        pKaN: 9.16\n\t    },\n\t    {\n\t        name: \"Methionine\",\n\t        aa3: \"Met\",\n\t        aa1: \"M\",\n\t        sc: {\n\t            type: \"hydrophobic\"\n\t        },\n\t        pKaC: 2.16,\n\t        pKaN: 9.08\n\t    },\n\t    {\n\t        name: \"Phenylalanine\",\n\t        aa3: \"Phe\",\n\t        aa1: \"F\",\n\t        sc: {\n\t            type: \"hydrophobic\"\n\t        },\n\t        pKaC: 2.18,\n\t        pKaN: 9.09\n\t    },\n\t    {\n\t        name: \"Proline\",\n\t        aa3: \"Pro\",\n\t        aa1: \"P\",\n\t        sc: {\n\t            type: \"special\"\n\t        },\n\t        pKaC: 1.95,\n\t        pKaN: 10.47\n\t    },\n\t    {\n\t        name: \"Serine\",\n\t        aa3: \"Ser\",\n\t        aa1: \"S\",\n\t        sc: {\n\t            type: \"polar\"\n\t        },\n\t        pKaC: 2.13,\n\t        pKaN: 9.05\n\t    },\n\t    {\n\t        name: \"Threonine\",\n\t        aa3: \"Thr\",\n\t        aa1: \"T\",\n\t        sc: {\n\t            type: \"polar\"\n\t        },\n\t        pKaC: 2.20,\n\t        pKaN: 8.96\n\t    },\n\t    {\n\t        name: \"Tryptophan\",\n\t        aa3: \"Trp\",\n\t        aa1: \"W\",\n\t        sc: {\n\t            type: \"hydrophobic\"\n\t        },\n\t        pKaC: 2.38,\n\t        pKaN: 9.34\n\t    },\n\t    {\n\t        name: \"Tyrosine\",\n\t        aa3: \"Tyr\",\n\t        aa1: \"Y\",\n\t        sc: {\n\t            type: \"hydrophobic\"\n\t        },\n\t        pKaC: 2.24,\n\t        pKaN: 9.04\n\t    },\n\t    {\n\t        name: \"Valine\",\n\t        aa3: \"Val\",\n\t        aa1: \"V\",\n\t        sc: {\n\t            type: \"hydrophobic\"\n\t        },\n\t        pKaC: 2.27,\n\t        pKaN: 9.52\n\t    },\n\t    // Additional\n\t    {\n\t        name: \"Selenocysteine\",\n\t        aa3: \"Sec\",\n\t        aa1: \"U\"\n\t    },\n\t    {\n\t        name: \"Pyrrolysine\",\n\t        aa3: \"Pyl\",\n\t        aa1: \"O\"\n\t    },\n\t    // Ambiguous\n\t    {\n\t        name: \"Asparagine or aspartic acid\",\n\t        aa3: \"Asx\",\n\t        aa1: \"B\"\n\t    },\n\t    {\n\t        name: \"Glutamine or glutamic acid\",\n\t        aa3: \"Glx\",\n\t        aa1: \"Z\"\n\t    },\n\t    {\n\t        name: \"Leucine or isoleucine\",\n\t        aa3: \"Xle\",\n\t        aa1: \"J\"\n\t    },\n\t    {\n\t        name: \"Unspecified or unknown\",\n\t        aa3: \"Xaa\",\n\t        aa1: \"X\"\n\t    }\n\t];\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t\n\tvar aa = __webpack_require__(1);\n\t\n\t// we will convert the data to an object to be much faster\n\tvar aaObject={};\n\tfor (var i=0; i<aa.length; i++) {\n\t    aaObject[aa[i].aa3]=aa[i];\n\t}\n\t\n\t\n\t\n\tfunction calculateCharge(aas, pH) {\n\t    if (! pH) pH=7.0;\n\t    var combined=combine(aas);\n\t    if (!combined) return;\n\t    var charge=calculateForPh(combined, pH);\n\t    return Math.round(charge*1000)/1000;\n\t}\n\t\n\t// this methods required an array of aas\n\t\n\tfunction calculateIEP(aas) {\n\t    var combined=combine(aas);\n\t    if (!combined) return;\n\t    var first=0;\n\t    var last=14;\n\t    var current=14;\n\t    var previous=0;\n\t    var currentCharge;\n\t    while (Math.abs(current-previous)>0.0001) {\n\t        previous=current;\n\t        current=(last + first) / 2;\n\t        currentCharge=calculateForPh(combined, current);\n\t        if (currentCharge>0) {\n\t            first=current;\n\t        } else if (currentCharge<0) {\n\t            last=current;\n\t        } else {\n\t            previous=current;\n\t        }\n\t    }\n\t    return Math.round(current*1000)/1000;\n\t}\n\t\n\tfunction calculateChart(aas) {\n\t    var combined=combine(aas);\n\t    if (!combined) return;\n\t    var y=[];\n\t    var yAbs=[];\n\t    for (var i=0; i<=14; i=i+0.01) {\n\t        var charge=calculateForPh(combined, i);\n\t        y.push(charge);\n\t        yAbs.push(Math.abs(charge));\n\t    }\n\t    combined.y=y;\n\t    combined.yAbs=yAbs;\n\t\n\t    return combined;\n\t}\n\t\n\t\n\tfunction calculateForPh(combined, pH) {\n\t    var total=0;\n\t    total+=1/(1+Math.pow(10,pH-combined.first));\n\t    total+=-1/(1+Math.pow(10,combined.last-pH));\n\t    for (var key in combined.acid) {\n\t        total+=-combined.acid[key]/(1+Math.pow(10,aaObject[key].sc.pKa-pH));\n\t    }\n\t    for (var key in combined.basic) {\n\t        total+=combined.basic[key]/(1+Math.pow(10,pH-aaObject[key].sc.pKa));\n\t    }\n\t    return total;\n\t}\n\t\n\t// we will combine the amino acids\n\tfunction combine(aas) {\n\t    var combined={};\n\t    if (aaObject[aas[0]]) {\n\t        combined.first=aaObject[aas[0]].pKaN;\n\t    } else {\n\t        return;\n\t    }\n\t    if (aaObject[aas[aas.length-1]]) {\n\t        combined.last=aaObject[aas[aas.length-1]].pKaC;\n\t    } else {\n\t        return;\n\t    }\n\t    combined.basic={};\n\t    combined.acid={};\n\t    for (var i=0; i<aas.length; i++) {\n\t        var aa=aas[i];\n\t        if (! aaObject[aa]) return;\n\t        if (aaObject[aa].sc && aaObject[aa].sc.type) {\n\t            if (aaObject[aa].sc.type==\"positive\") {\n\t                if (!combined.basic[aa]) {\n\t                    combined.basic[aa] = 0;\n\t                }\n\t                combined.basic[aa]++;\n\t            } else if (aaObject[aa].sc.type==\"negative\") {\n\t                if (!combined.acid[aa]) {\n\t                    combined.acid[aa] = 0;\n\t                }\n\t                combined.acid[aa]++;\n\t            }\n\t        }\n\t    }\n\t    return combined;\n\t}\n\t\n\t/*\n\t We can generate a color based on iep\n\t 0 -> 7 means that at pH 7 it is charged negatively (blue)\n\t 7 -> 14 means that at pH7 it is charged positively (red)\n\t */\n\tfunction getColor(iep) {\n\t    if (iep<7) {\n\t        if (iep<3) iep=3;\n\t        var white=Math.round(255-(7-iep)*(200/4));\n\t        return \"rgb(\"+white+\",\"+white+\",255)\";\n\t    } else if (iep>7) {\n\t        if (iep>11) iep=11;\n\t        var white=Math.round(255-(iep-7)*(200/4));\n\t        return \"rgb(255,\"+white+\",\"+white+\")\";\n\t    }\n\t    return \"rgb(255,255,255)\";\n\t}\n\t\n\tmodule.exports={\n\t    calculateIEP: calculateIEP,\n\t    calculateCharge: calculateCharge,\n\t    calculateChart: calculateChart,\n\t    getColor: getColor\n\t}\n\t\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar getAA = __webpack_require__(4);\n\t\n\t// SOURCE: https://en.wikipedia.org/wiki/Amino_acid\n\t\n\tfunction chargePeptide(mf, options) {\n\t    var options=options || {};\n\t    if (options.pH === undefined) options.pH=0;\n\t    var pH=options.pH;\n\t    // we will allow to charge the peptide at a specific pH\n\t\n\t    // first amino acids (N-terminal)\n\t    if (mf.match(/^H[A-Z][a-z]{2}/)) {\n\t        var firstAA=mf.replace(/^H([A-Z][a-z]{2}).*/,\"$1\");\n\t        if (getAA(firstAA) && pH<getAA(firstAA).pKaN) {\n\t            mf=mf.replace(/^H([^+])/, 'H+H$1');\n\t        }\n\t    }\n\t\n\t    // last amino acids (C-terminal)\n\t    if (mf.match(/[A-Z][a-z]{2}OH$/)) {\n\t        var lastAA=mf.replace(/.*([A-Z][a-z]{2})OH$/,\"$1\");\n\t        if (getAA(firstAA) && pH>getAA(firstAA).pKaC) {\n\t            mf=mf.replace(/OH$/, 'O-');\n\t        }\n\t    }\n\t\n\t    // basic AA\n\t    if (pH < getAA('Arg').sc.pKa) mf=mf.replace(/(Arg)(?!\\()/g, '$1(H+)');\n\t    if (pH < getAA('His').sc.pKa) mf=mf.replace(/(His)(?!\\()/g, '$1(H+)');\n\t    if (pH < getAA('Lys').sc.pKa) mf=mf.replace(/(Lys)(?!\\()/g, '$1(H+)');\n\t\n\t    // acid AA\n\t    if (pH > getAA('Asp').sc.pKa) mf=mf.replace(/(Asp)(?!\\()/g, '$1(H-1-)');\n\t    if (pH > getAA('Glu').sc.pKa) mf=mf.replace(/(Glu)(?!\\()/g, '$1(H-1-)');\n\t\n\t    if (pH > getAA('Cys').sc.pKa) mf=mf.replace(/(Cys)(?!\\()/g, '$1(H-1-)');\n\t\n\t    return mf;\n\t};\n\t\n\tmodule.exports = chargePeptide;\n\t\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar aa = __webpack_require__(1);\n\t\n\tfunction getAA(code) {\n\t    if (code.length===1) {\n\t        for (var i = 0; i < aa.length; i++) {\n\t            if (aa[i].aa1 === code) {\n\t                return aa[i];\n\t            }\n\t        }\n\t    }\n\t    if (code.length===3) {\n\t        for (var i = 0; i < aa.length; i++) {\n\t            if (aa[i].aa3 === code) {\n\t                return aa[i];\n\t            }\n\t        }\n\t    }\n\t}\n\t\n\t\n\tmodule.exports = getAA;\n\t\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** peptide.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 005bc21a31da98d91bbf\n **/","'use strict';\n\nvar aa = require('./aminoAcids');\nvar IEP = require('./isoElectricPoint');\nvar chargePeptide = require('./chargePeptide');\n\nexports.getInfo = function () {\n    return aa;\n}\n\n// sequence should be in the \"right\" format like HAlaGlyProOH\n\nexports.calculateIEP = function (sequence) {\n    var aas=sequence.replace(/([A-Z])/g,\" $1\").split(/ /);\n    aas=aas.slice(2,aas.length-2);\n    var result=IEP.calculateIEP(aas);\n    return result;\n}\n\nexports.calculateIEPChart = function (sequence) {\n    var aas=sequence.replace(/([A-Z])/g,\" $1\").split(/ /);\n    aas=aas.slice(2,aas.length-2);\n    var result=IEP.calculateChart(aas);\n    return result;\n}\n\n\nexports.getColorForIEP = function (iep) {\n    return IEP.getColor(iep);\n}\n\nexports.calculateCharge = function (sequence, ph) {\n    var aas=sequence.replace(/([A-Z])/g,\" $1\").split(/ /);\n    aas=aas.slice(2,aas.length-2);\n    return IEP.calculateCharge(aas, ph);\n}\n\nexports.generatePeptideFragments = function generatePeptideFragments(mf, options) {\n    if (options === undefined) {\n        options = {\n            a: false,\n            b: true,\n            c: false,\n            x: false,\n            y: true,\n            z: false,\n            i: false,\n            yb: false,\n            ya: false\n        };\n    }\n\n    var mfs = [];\n    var mfparts=mf.replace(/([a-z\\)])([A-Z][a-z](?=[a-z]))/g,\"$1 $2\").split(/ /);\n\n    var nTerm=\"\";\n    var cTerm=\"\";\n    for (var i=1; i<mfparts.length; i++) {\n        nTerm+=mfparts[i-1];\n        cTerm=mfparts[mfparts.length-i]+cTerm;\n        addNTerm(mfs, nTerm, i, options);\n        addCTerm(mfs, cTerm, i, options);\n        if (options.i) mfs.push(mfparts[i]+\"HC-1O-1(+1)$i:\"+mfparts[i]);\n\n        if (options.ya || options.yb) { // we have double fragmentations\n            for (var j=i+1; j<mfparts.length;j++) {\n                var iTerm='';\n                for (var k=i; k<j; k++) {\n                    iTerm+=mfparts[k];\n                }\n                addITerm(mfs, iTerm, i, j, options);\n            }\n        }\n    }\n\n\n    if (mfs.length === 0) {\n        mfs = mfs.concat([mf]);\n    }\n\n    return mfs;\n\n};\n\nexports.chargePeptide = chargePeptide;\n\n\nfunction aa1To3(code) {\n    for (var i = 0; i < aa.length; i++) {\n        if (aa[i].aa1 === code) {\n            return aa[i].aa3;\n        }\n    }\n    throw new Error('Invalid 1 letter code: ' + code);\n}\n\nfunction converAA1To3(mf) {\n    var newmf = '';\n    for (var i = 0; i < mf.length; i++) {\n        newmf += aa1To3(mf.charAt(i));\n    }\n    return newmf;\n}\n\nfunction capitalizeAA3(mf) {\n    for (var i = 0; i < aa.length; i++) {\n        var regexp = new RegExp(aa[i].aa3, 'gi');\n        mf = mf.replace(regexp, aa[i].aa3);\n    }\n    return mf;\n}\n\n\nexports.convertAASequence = function convertAASequence(mf) {\n    // this function will check if it is a sequence of aa in 1 letter or 3 letters and convert them if it is the case\n    // it could be a multiline mf !\n    // if it is a multiline we could make some \"tricks\" ...\n    var newmf = mf;\n    // SEQRES   1 B  256  MET PRO VAL GLU ILE THR VAL LYS GLU LEU LEU GLU ALA\n    // SEQRES   2 B  256  GLY VAL HIS PHE GLY HIS GLU ARG LYS ARG TRP ASN PRO\n    // or\n    // MET PRO VAL GLU ILE THR VAL LYS GLU LEU LEU GLU ALA\n    // GLY VAL HIS PHE GLY HIS GLU ARG LYS ARG TRP ASN PRO\n    if (mf.search(/[A-Z]{3} [A-Z]{3} [A-Z]{3}/) > -1) {\n        // this is a PDB !\n        var tmpmf = mf.replace(/[\\r\\n]+/g, ' ');\n        tmpmf = tmpmf.replace(/(SEQRES|[0-9]+| [A-Z] | [0-9A-Z]{4-50})/g, '');\n        // we need to correct the uppercase / lowercase\n        var parts = tmpmf.split(' ');\n        newmf = 'H';\n        for (var i = 0; i < parts.length; i++) {\n            newmf += parts[i].substr(0, 1) + parts[i].substr(1).toLowerCase();\n        }\n        newmf += 'OH';\n    } else if ((mf.search(/[A-Z]{3}/) > -1) && (mf.search(/[a-zA-Z][a-z0-9]/) == -1)) {\n        // UNIPROT\n        //   370        380        390        400        410        420\n        //GFKPNLRKTF VSGLFRESCG AHFYRGVDVK PFYIKKPVDN LFALMLILNR LRGWGVVGGM\n        //\n        //    430        440        450        460        470        480\n        //SDPRLYKVWV RLSSQVPSMF FGGTDLAADY YVVSPPTAVS VYTKTPYGRL LADTRTSGFR\n        // We remove all the number, all the spaces, etc\n        newmf = 'H' + converAA1To3(newmf.replace(/[^A-Z]/g, '')) + 'OH';\n    }\n\n    return newmf;\n\n};\n\nfunction addNTerm(mfs, nTerm, i, options) {\n    if (options.a) mfs.push(nTerm+\"C-1O-1(+1)$a\"+i);\n    if (options.b) mfs.push(nTerm+\"(+1)$b\"+i);\n    if (options.c) mfs.push(nTerm+\"NH3(+1)$c\"+i);\n}\n\nfunction addITerm(mfs, iTerm, i, j, options) {\n    if (options.ya) mfs.push(\"H\"+iTerm+\"C-1O-1(+1)$a\"+j+\"y\"+i);\n    if (options.yb) mfs.push(\"H\"+iTerm+\"(+1)$b\"+j+\"y\"+i);\n}\n\nfunction addCTerm(mfs, cTerm, i, options) {\n    if (options.x) mfs.push(\"CO(+1)\"+cTerm+\"$x\"+i);\n    if (options.y) mfs.push(\"H2(+1)\"+cTerm+\"$y\"+i);\n    if (options.z) mfs.push(\"N-1H-1(+1)\"+cTerm+\"$z\"+i);\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0\n **/","'use strict';\n\n// SOURCE: https://en.wikipedia.org/wiki/Amino_acid\nmodule.exports = [\n    // Standard amino acids\n    {\n        name: \"Alanine\",\n        aa3: \"Ala\",\n        aa1: \"A\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.33,\n        pKaN: 9.71\n    },\n    {\n        name: \"Arginine\",\n        aa3: \"Arg\",\n        aa1: \"R\",\n        sc: {\n            type: \"positive\",\n            pKa: 12.10\n        },\n        pKaC: 2.03,\n        pKaN: 9.00\n    },\n    {\n        name: \"Asparagine\",\n        aa3: \"Asn\",\n        aa1: \"N\",\n        sc: {\n            type: \"polar\"\n        },\n        pKaC: 2.13,\n        pKaN: 9.05\n    },\n    {\n        name: \"Aspartic acid\",\n        aa3: \"Asp\",\n        aa1: \"D\",\n        sc: {\n            type: \"negative\",\n            pKa: 3.71\n        },\n        pKaC: 1.95,\n        pKaN: 9.66\n    },\n    {\n        name: \"Cysteine\",\n        aa3: \"Cys\",\n        aa1: \"C\",\n        sc: {\n            type: \"special\",\n            pKa: 8.14\n        },\n        pKaC: 1.91,\n        pKaN: 10.28\n    },\n    {\n        name: \"Glutamic acid\",\n        aa3: \"Glu\",\n        aa1: \"E\",\n        sc: {\n            type: \"negative\",\n            pKa: 4.15\n        },\n        pKaC: 2.16,\n        pKaN: 9.58\n    },\n    {\n        name: \"Glutamine\",\n        aa3: \"Gln\",\n        aa1: \"Q\",\n        sc: {\n            type: \"polar\"\n        },\n        pKaC: 2.18,\n        pKaN: 9.00\n    },\n    {\n        name: \"Glycine\",\n        aa3: \"Gly\",\n        aa1: \"G\",\n        sc: {\n            type: \"special\"\n        },\n        pKaC: 2.34,\n        pKaN: 9.58\n    },\n    {\n        name: \"Histidine\",\n        aa3: \"His\",\n        aa1: \"H\",\n        sc: {\n            type: \"positive\",\n            pKa: 6.04\n        },\n        pKaC: 1.70,\n        pKaN: 9.09\n    },\n    {\n        name: \"Isoleucine\",\n        aa3: \"Ile\",\n        aa1: \"I\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.26,\n        pKaN: 9.60\n    },\n    {\n        name: \"Leucine\",\n        aa3: \"Leu\",\n        aa1: \"L\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.32,\n        pKaN: 9.58\n    },\n    {\n        name: \"Lysine\",\n        aa3: \"Lys\",\n        aa1: \"K\",\n        sc: {\n            type: \"positive\",\n            pKa: 10.67\n        },\n        pKaC: 2.15,\n        pKaN: 9.16\n    },\n    {\n        name: \"Methionine\",\n        aa3: \"Met\",\n        aa1: \"M\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.16,\n        pKaN: 9.08\n    },\n    {\n        name: \"Phenylalanine\",\n        aa3: \"Phe\",\n        aa1: \"F\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.18,\n        pKaN: 9.09\n    },\n    {\n        name: \"Proline\",\n        aa3: \"Pro\",\n        aa1: \"P\",\n        sc: {\n            type: \"special\"\n        },\n        pKaC: 1.95,\n        pKaN: 10.47\n    },\n    {\n        name: \"Serine\",\n        aa3: \"Ser\",\n        aa1: \"S\",\n        sc: {\n            type: \"polar\"\n        },\n        pKaC: 2.13,\n        pKaN: 9.05\n    },\n    {\n        name: \"Threonine\",\n        aa3: \"Thr\",\n        aa1: \"T\",\n        sc: {\n            type: \"polar\"\n        },\n        pKaC: 2.20,\n        pKaN: 8.96\n    },\n    {\n        name: \"Tryptophan\",\n        aa3: \"Trp\",\n        aa1: \"W\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.38,\n        pKaN: 9.34\n    },\n    {\n        name: \"Tyrosine\",\n        aa3: \"Tyr\",\n        aa1: \"Y\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.24,\n        pKaN: 9.04\n    },\n    {\n        name: \"Valine\",\n        aa3: \"Val\",\n        aa1: \"V\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.27,\n        pKaN: 9.52\n    },\n    // Additional\n    {\n        name: \"Selenocysteine\",\n        aa3: \"Sec\",\n        aa1: \"U\"\n    },\n    {\n        name: \"Pyrrolysine\",\n        aa3: \"Pyl\",\n        aa1: \"O\"\n    },\n    // Ambiguous\n    {\n        name: \"Asparagine or aspartic acid\",\n        aa3: \"Asx\",\n        aa1: \"B\"\n    },\n    {\n        name: \"Glutamine or glutamic acid\",\n        aa3: \"Glx\",\n        aa1: \"Z\"\n    },\n    {\n        name: \"Leucine or isoleucine\",\n        aa3: \"Xle\",\n        aa1: \"J\"\n    },\n    {\n        name: \"Unspecified or unknown\",\n        aa3: \"Xaa\",\n        aa1: \"X\"\n    }\n];\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/aminoAcids.js\n ** module id = 1\n ** module chunks = 0\n **/","'use strict';\n\n\nvar aa = require('./aminoAcids');\n\n// we will convert the data to an object to be much faster\nvar aaObject={};\nfor (var i=0; i<aa.length; i++) {\n    aaObject[aa[i].aa3]=aa[i];\n}\n\n\n\nfunction calculateCharge(aas, pH) {\n    if (! pH) pH=7.0;\n    var combined=combine(aas);\n    if (!combined) return;\n    var charge=calculateForPh(combined, pH);\n    return Math.round(charge*1000)/1000;\n}\n\n// this methods required an array of aas\n\nfunction calculateIEP(aas) {\n    var combined=combine(aas);\n    if (!combined) return;\n    var first=0;\n    var last=14;\n    var current=14;\n    var previous=0;\n    var currentCharge;\n    while (Math.abs(current-previous)>0.0001) {\n        previous=current;\n        current=(last + first) / 2;\n        currentCharge=calculateForPh(combined, current);\n        if (currentCharge>0) {\n            first=current;\n        } else if (currentCharge<0) {\n            last=current;\n        } else {\n            previous=current;\n        }\n    }\n    return Math.round(current*1000)/1000;\n}\n\nfunction calculateChart(aas) {\n    var combined=combine(aas);\n    if (!combined) return;\n    var y=[];\n    var yAbs=[];\n    for (var i=0; i<=14; i=i+0.01) {\n        var charge=calculateForPh(combined, i);\n        y.push(charge);\n        yAbs.push(Math.abs(charge));\n    }\n    combined.y=y;\n    combined.yAbs=yAbs;\n\n    return combined;\n}\n\n\nfunction calculateForPh(combined, pH) {\n    var total=0;\n    total+=1/(1+Math.pow(10,pH-combined.first));\n    total+=-1/(1+Math.pow(10,combined.last-pH));\n    for (var key in combined.acid) {\n        total+=-combined.acid[key]/(1+Math.pow(10,aaObject[key].sc.pKa-pH));\n    }\n    for (var key in combined.basic) {\n        total+=combined.basic[key]/(1+Math.pow(10,pH-aaObject[key].sc.pKa));\n    }\n    return total;\n}\n\n// we will combine the amino acids\nfunction combine(aas) {\n    var combined={};\n    if (aaObject[aas[0]]) {\n        combined.first=aaObject[aas[0]].pKaN;\n    } else {\n        return;\n    }\n    if (aaObject[aas[aas.length-1]]) {\n        combined.last=aaObject[aas[aas.length-1]].pKaC;\n    } else {\n        return;\n    }\n    combined.basic={};\n    combined.acid={};\n    for (var i=0; i<aas.length; i++) {\n        var aa=aas[i];\n        if (! aaObject[aa]) return;\n        if (aaObject[aa].sc && aaObject[aa].sc.type) {\n            if (aaObject[aa].sc.type==\"positive\") {\n                if (!combined.basic[aa]) {\n                    combined.basic[aa] = 0;\n                }\n                combined.basic[aa]++;\n            } else if (aaObject[aa].sc.type==\"negative\") {\n                if (!combined.acid[aa]) {\n                    combined.acid[aa] = 0;\n                }\n                combined.acid[aa]++;\n            }\n        }\n    }\n    return combined;\n}\n\n/*\n We can generate a color based on iep\n 0 -> 7 means that at pH 7 it is charged negatively (blue)\n 7 -> 14 means that at pH7 it is charged positively (red)\n */\nfunction getColor(iep) {\n    if (iep<7) {\n        if (iep<3) iep=3;\n        var white=Math.round(255-(7-iep)*(200/4));\n        return \"rgb(\"+white+\",\"+white+\",255)\";\n    } else if (iep>7) {\n        if (iep>11) iep=11;\n        var white=Math.round(255-(iep-7)*(200/4));\n        return \"rgb(255,\"+white+\",\"+white+\")\";\n    }\n    return \"rgb(255,255,255)\";\n}\n\nmodule.exports={\n    calculateIEP: calculateIEP,\n    calculateCharge: calculateCharge,\n    calculateChart: calculateChart,\n    getColor: getColor\n}\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/isoElectricPoint.js\n ** module id = 2\n ** module chunks = 0\n **/","'use strict';\n\nvar getAA = require('./getAA');\n\n// SOURCE: https://en.wikipedia.org/wiki/Amino_acid\n\nfunction chargePeptide(mf, options) {\n    var options=options || {};\n    if (options.pH === undefined) options.pH=0;\n    var pH=options.pH;\n    // we will allow to charge the peptide at a specific pH\n\n    // first amino acids (N-terminal)\n    if (mf.match(/^H[A-Z][a-z]{2}/)) {\n        var firstAA=mf.replace(/^H([A-Z][a-z]{2}).*/,\"$1\");\n        if (getAA(firstAA) && pH<getAA(firstAA).pKaN) {\n            mf=mf.replace(/^H([^+])/, 'H+H$1');\n        }\n    }\n\n    // last amino acids (C-terminal)\n    if (mf.match(/[A-Z][a-z]{2}OH$/)) {\n        var lastAA=mf.replace(/.*([A-Z][a-z]{2})OH$/,\"$1\");\n        if (getAA(firstAA) && pH>getAA(firstAA).pKaC) {\n            mf=mf.replace(/OH$/, 'O-');\n        }\n    }\n\n    // basic AA\n    if (pH < getAA('Arg').sc.pKa) mf=mf.replace(/(Arg)(?!\\()/g, '$1(H+)');\n    if (pH < getAA('His').sc.pKa) mf=mf.replace(/(His)(?!\\()/g, '$1(H+)');\n    if (pH < getAA('Lys').sc.pKa) mf=mf.replace(/(Lys)(?!\\()/g, '$1(H+)');\n\n    // acid AA\n    if (pH > getAA('Asp').sc.pKa) mf=mf.replace(/(Asp)(?!\\()/g, '$1(H-1-)');\n    if (pH > getAA('Glu').sc.pKa) mf=mf.replace(/(Glu)(?!\\()/g, '$1(H-1-)');\n\n    if (pH > getAA('Cys').sc.pKa) mf=mf.replace(/(Cys)(?!\\()/g, '$1(H-1-)');\n\n    return mf;\n};\n\nmodule.exports = chargePeptide;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/chargePeptide.js\n ** module id = 3\n ** module chunks = 0\n **/","'use strict';\n\nvar aa = require('./aminoAcids');\n\nfunction getAA(code) {\n    if (code.length===1) {\n        for (var i = 0; i < aa.length; i++) {\n            if (aa[i].aa1 === code) {\n                return aa[i];\n            }\n        }\n    }\n    if (code.length===3) {\n        for (var i = 0; i < aa.length; i++) {\n            if (aa[i].aa3 === code) {\n                return aa[i];\n            }\n        }\n    }\n}\n\n\nmodule.exports = getAA;\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/getAA.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}