{"version":3,"sources":["webpack://Peptide/webpack/universalModuleDefinition","webpack://Peptide/webpack/bootstrap","webpack://Peptide/./src/aminoAcids.js","webpack://Peptide/./src/splitPeptide.js","webpack://Peptide/./src/index.js","webpack://Peptide/./src/isoElectricPoint.js","webpack://Peptide/./src/chargePeptide.js","webpack://Peptide/./src/getAA.js","webpack://Peptide/./src/allowNeutralLoss.js","webpack://Peptide/./src/digestPeptide.js","webpack://Peptide/./src/generatePeptideFragments.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","aa3","aa1","sc","type","pKaC","pKaN","pKa","sequence","aas","replace","split","begin","end","length","slice","aa","require","IEP","chargePeptide","allowNeutralLoss","splitPeptide","digestPeptide","generatePeptideFragments","aa1To3","code","Error","convertAASequence","mf","newmf","search","tmpmf","parts","substr","toLowerCase","charAt","converAA1To3","getInfo","calculateIEP","calculateIEPChart","calculateChart","getColorForIEP","iep","getColor","calculateCharge","ph","sequenceToMF","aaObject","calculateForPh","combined","pH","total","Math","pow","first","last","acid","basic","combine","currentCharge","current","previous","abs","round","charge","y","x","yAbs","push","white","getAA","chargeOnePeptide","options","match","firstAA","undefined","Array","isArray","allowOneNeutralLoss","splitSequence","enzyme","minMissed","maxMissed","minResidue","maxResidue","Number","MAX_VALUE","regexp","getRegexp","fragments","from","nbResidue","to","results","j","min","fragment","k","addNTerm","mfs","nTerm","a","b","addITerm","iTerm","ya","yb","yc","zc","addCTerm","cTerm","z","maxInternal","minInternal","mfparts","concat"],"mappings":"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","file":"peptide.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Peptide\"] = factory();\n\telse\n\t\troot[\"Peptide\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","'use strict';\n\n// SOURCE: https://en.wikipedia.org/wiki/Amino_acid\nmodule.exports = [\n    // Standard amino acids\n    {\n        name: \"Alanine\",\n        aa3: \"Ala\",\n        aa1: \"A\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.33,\n        pKaN: 9.71\n    },\n    {\n        name: \"Arginine\",\n        aa3: \"Arg\",\n        aa1: \"R\",\n        sc: {\n            type: \"positive\",\n            pKa: 12.10\n        },\n        pKaC: 2.03,\n        pKaN: 9.00\n    },\n    {\n        name: \"Asparagine\",\n        aa3: \"Asn\",\n        aa1: \"N\",\n        sc: {\n            type: \"polar\"\n        },\n        pKaC: 2.13,\n        pKaN: 9.05\n    },\n    {\n        name: \"Aspartic acid\",\n        aa3: \"Asp\",\n        aa1: \"D\",\n        sc: {\n            type: \"negative\",\n            pKa: 3.71\n        },\n        pKaC: 1.95,\n        pKaN: 9.66\n    },\n    {\n        name: \"Cysteine\",\n        aa3: \"Cys\",\n        aa1: \"C\",\n        sc: {\n            type: \"special\",\n            pKa: 8.14\n        },\n        pKaC: 1.91,\n        pKaN: 10.28\n    },\n    {\n        name: \"Glutamic acid\",\n        aa3: \"Glu\",\n        aa1: \"E\",\n        sc: {\n            type: \"negative\",\n            pKa: 4.15\n        },\n        pKaC: 2.16,\n        pKaN: 9.58\n    },\n    {\n        name: \"Glutamine\",\n        aa3: \"Gln\",\n        aa1: \"Q\",\n        sc: {\n            type: \"polar\"\n        },\n        pKaC: 2.18,\n        pKaN: 9.00\n    },\n    {\n        name: \"Glycine\",\n        aa3: \"Gly\",\n        aa1: \"G\",\n        sc: {\n            type: \"special\"\n        },\n        pKaC: 2.34,\n        pKaN: 9.58\n    },\n    {\n        name: \"Histidine\",\n        aa3: \"His\",\n        aa1: \"H\",\n        sc: {\n            type: \"positive\",\n            pKa: 6.04\n        },\n        pKaC: 1.70,\n        pKaN: 9.09\n    },\n    {\n        name: \"Isoleucine\",\n        aa3: \"Ile\",\n        aa1: \"I\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.26,\n        pKaN: 9.60\n    },\n    {\n        name: \"Leucine\",\n        aa3: \"Leu\",\n        aa1: \"L\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.32,\n        pKaN: 9.58\n    },\n    {\n        name: \"Lysine\",\n        aa3: \"Lys\",\n        aa1: \"K\",\n        sc: {\n            type: \"positive\",\n            pKa: 10.67\n        },\n        pKaC: 2.15,\n        pKaN: 9.16\n    },\n    {\n        name: \"Methionine\",\n        aa3: \"Met\",\n        aa1: \"M\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.16,\n        pKaN: 9.08\n    },\n    {\n        name: \"Phenylalanine\",\n        aa3: \"Phe\",\n        aa1: \"F\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.18,\n        pKaN: 9.09\n    },\n    {\n        name: \"Proline\",\n        aa3: \"Pro\",\n        aa1: \"P\",\n        sc: {\n            type: \"special\"\n        },\n        pKaC: 1.95,\n        pKaN: 10.47\n    },\n    {\n        name: \"Serine\",\n        aa3: \"Ser\",\n        aa1: \"S\",\n        sc: {\n            type: \"polar\"\n        },\n        pKaC: 2.13,\n        pKaN: 9.05\n    },\n    {\n        name: \"Threonine\",\n        aa3: \"Thr\",\n        aa1: \"T\",\n        sc: {\n            type: \"polar\"\n        },\n        pKaC: 2.20,\n        pKaN: 8.96\n    },\n    {\n        name: \"Tryptophan\",\n        aa3: \"Trp\",\n        aa1: \"W\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.38,\n        pKaN: 9.34\n    },\n    {\n        name: \"Tyrosine\",\n        aa3: \"Tyr\",\n        aa1: \"Y\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.24,\n        pKaN: 9.04\n    },\n    {\n        name: \"Valine\",\n        aa3: \"Val\",\n        aa1: \"V\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.27,\n        pKaN: 9.52\n    },\n    // Additional\n    {\n        name: \"Selenocysteine\",\n        aa3: \"Sec\",\n        aa1: \"U\"\n    },\n    {\n        name: \"Pyrrolysine\",\n        aa3: \"Pyl\",\n        aa1: \"O\"\n    },\n    // Ambiguous\n    {\n        name: \"Asparagine or aspartic acid\",\n        aa3: \"Asx\",\n        aa1: \"B\"\n    },\n    {\n        name: \"Glutamine or glutamic acid\",\n        aa3: \"Glx\",\n        aa1: \"Z\"\n    },\n    {\n        name: \"Leucine or isoleucine\",\n        aa3: \"Xle\",\n        aa1: \"J\"\n    },\n    {\n        name: \"Unspecified or unknown\",\n        aa3: \"Xaa\",\n        aa1: \"X\"\n    }\n];\n","'use strict';\n\nfunction splitSequence(sequence) {\n    var aas=sequence.replace(/([A-Z])/g,\" $1\").split(/ /);\n    var begin=0;\n    while (aas[begin]==='' || aas[begin]==='H') {\n        begin++;\n    }\n    var end=aas.length-1;\n    while (aas[end]==='O' || aas[end]==='H') {\n        end--;\n    }\n    aas=aas.slice(begin,end+1);\n    return aas;\n}\n\n\nmodule.exports = splitSequence;\n\n","'use strict';\n\nvar aa = require('./aminoAcids');\nvar IEP = require('./isoElectricPoint');\nvar chargePeptide = require('./chargePeptide');\nvar allowNeutralLoss = require('./allowNeutralLoss');\nvar splitPeptide = require('./splitPeptide');\nvar digestPeptide = require('./digestPeptide');\nvar generatePeptideFragments = require('./generatePeptideFragments');\n\nexports.getInfo = function () {\n    return aa;\n}\n\n// sequence should be in the \"right\" format like HAlaGlyProOH\n\nexports.splitPeptide=splitPeptide;\nexports.digestPeptide=digestPeptide;\n\nexports.calculateIEP = function (sequence) {\n    var aas=splitPeptide(sequence);\n    var result=IEP.calculateIEP(aas);\n    return result;\n}\n\nexports.calculateIEPChart = function (sequence) {\n    var aas=splitPeptide(sequence);\n    var result=IEP.calculateChart(aas);\n    return result;\n}\n\n\nexports.getColorForIEP = function (iep) {\n    return IEP.getColor(iep);\n}\n\nexports.calculateCharge = function (sequence, ph) {\n    var aas=splitPeptide(sequence);\n    return IEP.calculateCharge(aas, ph);\n}\n\nexports.generatePeptideFragments = generatePeptideFragments;\n\nexports.chargePeptide = chargePeptide;\nexports.allowNeutralLoss = allowNeutralLoss;\n\nfunction aa1To3(code) {\n    for (var i = 0; i < aa.length; i++) {\n        if (aa[i].aa1 === code) {\n            return aa[i].aa3;\n        }\n    }\n    throw new Error('Invalid 1 letter code: ' + code);\n}\n\nfunction converAA1To3(mf) {\n    var newmf = '';\n    for (var i = 0; i < mf.length; i++) {\n        newmf += aa1To3(mf.charAt(i));\n    }\n    return newmf;\n}\n\nfunction capitalizeAA3(mf) {\n    for (var i = 0; i < aa.length; i++) {\n        var regexp = new RegExp(aa[i].aa3, 'gi');\n        mf = mf.replace(regexp, aa[i].aa3);\n    }\n    return mf;\n}\n\nfunction convertAASequence(mf) {\n    // this function will check if it is a sequence of aa in 1 letter or 3 letters and convert them if it is the case\n    // it could be a multiline mf !\n    // if it is a multiline we could make some \"tricks\" ...\n    var newmf = mf;\n    // SEQRES   1 B  256  MET PRO VAL GLU ILE THR VAL LYS GLU LEU LEU GLU ALA\n    // SEQRES   2 B  256  GLY VAL HIS PHE GLY HIS GLU ARG LYS ARG TRP ASN PRO\n    // or\n    // MET PRO VAL GLU ILE THR VAL LYS GLU LEU LEU GLU ALA\n    // GLY VAL HIS PHE GLY HIS GLU ARG LYS ARG TRP ASN PRO\n    if (mf.search(/[A-Z]{3} [A-Z]{3} [A-Z]{3}/) > -1) {\n        // this is a PDB !\n        var tmpmf = mf.replace(/[\\r\\n]+/g, ' ');\n        tmpmf = tmpmf.replace(/(SEQRES|[0-9]+| [A-Z] | [0-9A-Z]{4-50})/g, '');\n        // we need to correct the uppercase / lowercase\n        var parts = tmpmf.split(' ');\n        newmf = 'H';\n        for (var i = 0; i < parts.length; i++) {\n            newmf += parts[i].substr(0, 1) + parts[i].substr(1).toLowerCase();\n        }\n        newmf += 'OH';\n    } else if ((mf.search(/[A-Z]{3}/) > -1) && (mf.search(/[a-zA-Z][a-z0-9]/) == -1)) {\n        // UNIPROT\n        //   370        380        390        400        410        420\n        //GFKPNLRKTF VSGLFRESCG AHFYRGVDVK PFYIKKPVDN LFALMLILNR LRGWGVVGGM\n        //\n        //    430        440        450        460        470        480\n        //SDPRLYKVWV RLSSQVPSMF FGGTDLAADY YVVSPPTAVS VYTKTPYGRL LADTRTSGFR\n        // We remove all the number, all the spaces, etc\n        newmf = 'H' + converAA1To3(newmf.replace(/[^A-Z]/g, '')) + 'OH';\n    }\n\n    return newmf;\n\n};\n\nexports.convertAASequence = convertAASequence;\n\nexports.sequenceToMF = convertAASequence;\n\n","'use strict';\n\n\nvar aa = require('./aminoAcids');\n\n// we will convert the data to an object to be much faster\nvar aaObject={};\nfor (var i=0; i<aa.length; i++) {\n    aaObject[aa[i].aa3]=aa[i];\n}\n\n\n\nfunction calculateCharge(aas, pH) {\n    if (! pH) pH=7.0;\n    var combined=combine(aas);\n    if (!combined) return;\n    var charge=calculateForPh(combined, pH);\n    return Math.round(charge*1000)/1000;\n}\n\n// this methods required an array of aas\n\nfunction calculateIEP(aas) {\n    var combined=combine(aas);\n    if (!combined) return;\n    var first=0;\n    var last=14;\n    var current=14;\n    var previous=0;\n    var currentCharge;\n    while (Math.abs(current-previous)>0.0001) {\n        previous=current;\n        current=(last + first) / 2;\n        currentCharge=calculateForPh(combined, current);\n        if (currentCharge>0) {\n            first=current;\n        } else if (currentCharge<0) {\n            last=current;\n        } else {\n            previous=current;\n        }\n    }\n    return Math.round(current*1000)/1000;\n}\n\nfunction calculateChart(aas) {\n    var combined=combine(aas);\n    if (!combined) return;\n    var y=[];\n    var x=[];\n    var yAbs=[];\n    for (var i=0; i<=14; i=i+0.01) {\n        var charge=calculateForPh(combined, i);\n        x.push(i);\n        y.push(charge);\n        yAbs.push(Math.abs(charge));\n    }\n    combined.x=x;\n    combined.y=y;\n    combined.yAbs=yAbs;\n\n    return combined;\n}\n\n\nfunction calculateForPh(combined, pH) {\n    var total=0;\n    total+=1/(1+Math.pow(10,pH-combined.first));\n    total+=-1/(1+Math.pow(10,combined.last-pH));\n    for (var key in combined.acid) {\n        total+=-combined.acid[key]/(1+Math.pow(10,aaObject[key].sc.pKa-pH));\n    }\n    for (var key in combined.basic) {\n        total+=combined.basic[key]/(1+Math.pow(10,pH-aaObject[key].sc.pKa));\n    }\n    return total;\n}\n\n// we will combine the amino acids\nfunction combine(aas) {\n    var combined={};\n    if (aaObject[aas[0]]) {\n        combined.first=aaObject[aas[0]].pKaN;\n    } else {\n        return;\n    }\n    if (aaObject[aas[aas.length-1]]) {\n        combined.last=aaObject[aas[aas.length-1]].pKaC;\n    } else {\n        return;\n    }\n    combined.basic={};\n    combined.acid={};\n    for (var i=0; i<aas.length; i++) {\n        var aa=aas[i];\n        if (! aaObject[aa]) return;\n        if (aaObject[aa].sc && aaObject[aa].sc.type) {\n            if (aaObject[aa].sc.type==\"positive\") {\n                if (!combined.basic[aa]) {\n                    combined.basic[aa] = 0;\n                }\n                combined.basic[aa]++;\n            } else if (aaObject[aa].sc.type==\"negative\") {\n                if (!combined.acid[aa]) {\n                    combined.acid[aa] = 0;\n                }\n                combined.acid[aa]++;\n            }\n        }\n    }\n    return combined;\n}\n\n/*\n We can generate a color based on iep\n 0 -> 7 means that at pH 7 it is charged negatively (blue)\n 7 -> 14 means that at pH7 it is charged positively (red)\n */\nfunction getColor(iep) {\n    if (iep<7) {\n        if (iep<3) iep=3;\n        var white=Math.round(255-(7-iep)*(200/4));\n        return \"rgb(\"+white+\",\"+white+\",255)\";\n    } else if (iep>7) {\n        if (iep>11) iep=11;\n        var white=Math.round(255-(iep-7)*(200/4));\n        return \"rgb(255,\"+white+\",\"+white+\")\";\n    }\n    return \"rgb(255,255,255)\";\n}\n\nmodule.exports={\n    calculateIEP: calculateIEP,\n    calculateCharge: calculateCharge,\n    calculateChart: calculateChart,\n    getColor: getColor\n}\n\n","'use strict';\n\nvar getAA = require('./getAA');\n\n// SOURCE: https://en.wikipedia.org/wiki/Amino_acid\n\nfunction chargePeptide(mf, options) {\n    var options=options || {};\n    if (options.pH === undefined) options.pH=0;\n    if (Array.isArray(mf)) {\n        for (var i=0; i<mf.length; i++) {\n            mf[i]=chargeOnePeptide(mf[i], options);\n        }\n        return mf;\n    } else {\n        return chargeOnePeptide(mf, options);\n    }\n}\n\nfunction chargeOnePeptide(mf, options) {\n    var pH=options.pH;\n    // we will allow to charge the peptide at a specific pH\n\n    // first amino acids (N-terminal)\n    if (mf.match(/^H[A-Z][a-z]{2}/)) {\n        var firstAA=mf.replace(/^H([A-Z][a-z]{2}).*/,\"$1\");\n        if (getAA(firstAA) && pH<getAA(firstAA).pKaN) {\n            mf=mf.replace(/^H([^+])/, 'H+H$1');\n        }\n    }\n\n    // last amino acids (C-terminal)\n    if (mf.match(/[A-Z][a-z]{2}OH$/)) {\n        var lastAA=mf.replace(/.*([A-Z][a-z]{2})OH$/,\"$1\");\n        if (getAA(firstAA) && pH>getAA(firstAA).pKaC) {\n            mf=mf.replace(/OH$/, 'O-');\n        }\n    }\n\n    // basic AA\n    if (pH < getAA('Arg').sc.pKa) mf=mf.replace(/(Arg)(?!\\()/g, '$1(H+)');\n    if (pH < getAA('His').sc.pKa) mf=mf.replace(/(His)(?!\\()/g, '$1(H+)');\n    if (pH < getAA('Lys').sc.pKa) mf=mf.replace(/(Lys)(?!\\()/g, '$1(H+)');\n\n    // acid AA\n    if (pH > getAA('Asp').sc.pKa) mf=mf.replace(/(Asp)(?!\\()/g, '$1(H-1-)');\n    if (pH > getAA('Glu').sc.pKa) mf=mf.replace(/(Glu)(?!\\()/g, '$1(H-1-)');\n\n    if (pH > getAA('Cys').sc.pKa) mf=mf.replace(/(Cys)(?!\\()/g, '$1(H-1-)');\n\n    return mf;\n};\n\nmodule.exports = chargePeptide;\n\n","'use strict';\n\nvar aa = require('./aminoAcids');\n\nfunction getAA(code) {\n    if (code.length===1) {\n        for (var i = 0; i < aa.length; i++) {\n            if (aa[i].aa1 === code) {\n                return aa[i];\n            }\n        }\n    }\n    if (code.length===3) {\n        for (var i = 0; i < aa.length; i++) {\n            if (aa[i].aa3 === code) {\n                return aa[i];\n            }\n        }\n    }\n}\n\nmodule.exports = getAA;","\nfunction allowNeutralLoss(mf, options) {\n    if (Array.isArray(mf)) {\n        for (var i=0; i<mf.length; i++) {\n            mf[i]=allowOneNeutralLoss(mf[i], options);\n        }\n        return mf;\n    } else {\n        return allowOneNeutralLoss(mf, options);\n    }\n}\n\nfunction allowOneNeutralLoss(mf, options) {\n    mf=mf.replace(/(Ser|Thr|Asp|Glu)(?!\\()/g, '$1(H-2O-1)0-1');\n    mf=mf.replace(/(Arg|Lys|Asn|Gln)(?!\\()/g, '$1(N-1H-3)0-1');\n\n    return mf;\n};\n\nmodule.exports = allowNeutralLoss;\n\n","'use strict';\n\nvar splitSequence = require('./splitPeptide');\n\n/*\nIotuibs:\n* minMissed (default: 0)\n* maxMissed (default: 0)\n* minResidue: 0;\n* maxResidue: infinity\n* enzyme: chymotrypsin, trypsin, glucph4, glucph8, thermolysin, cyanogenbromide : Mandatory, no default value !\n */\n\nfunction digestSequence(sequence, options) {\n  var options = options || {};\n\n  sequence = sequence.replace(/^H([^a-z])/, '$1').replace(/OH$/, '');\n\n  options.enzyme = options.enzyme || 'trypsin';\n  if (options.minMissed === undefined) options.minMissed = 0;\n  if (options.maxMissed === undefined) options.maxMissed = 0;\n  if (options.minResidue === undefined) options.minResidue = 0;\n  if (options.maxResidue === undefined) options.maxResidue = Number.MAX_VALUE;\n  var regexp = getRegexp(options.enzyme);\n  var fragments = sequence.replace(regexp, '$1 ').split(/ /);\n  if (!fragments[fragments.length - 1])\n    fragments = fragments.slice(0, fragments.length - 1);\n\n  var from = 0;\n  for (var i = 0; i < fragments.length; i++) {\n    var nbResidue = splitSequence(fragments[i]).length;\n    fragments[i] = {\n      sequence: fragments[i],\n      nbResidue: nbResidue,\n      from: from + 1,\n      to: from + nbResidue\n    };\n    from += nbResidue;\n  }\n\n  var results = [];\n\n  for (var i = 0; i < fragments.length - options.minMissed; i++) {\n    for (\n      var j = options.minMissed;\n      j <= Math.min(options.maxMissed, fragments.length - i - 1);\n      j++\n    ) {\n      var fragment = '';\n      var nbResidue = 0;\n      for (var k = i; k <= i + j; k++) {\n        fragment += fragments[k].sequence;\n        nbResidue += fragments[k].nbResidue;\n      }\n      var from = fragments[i].from;\n      var to = fragments[i + j].to;\n      if (\n        fragment &&\n        nbResidue >= options.minResidue &&\n        nbResidue <= options.maxResidue\n      ) {\n        results.push('H' + fragment + 'OH' + '$D' + from + '>' + to);\n      }\n    }\n  }\n\n  return results;\n}\n\nfunction getRegexp(enzyme) {\n  switch (enzyme.toLowerCase().replace(/[^a-z0-9]/g, '')) {\n    case 'chymotrypsin':\n      return /(Phe|Tyr|Trp)(?!Pro)/g;\n    case 'trypsin':\n      return /(Lys|Arg)(?!Pro)/g;\n    case 'lysc':\n      return /(Lys)(?!Pro)/g;\n    case 'glucph4':\n      return /(Glu)(?!Pro|Glu)/g;\n    case 'glucph8':\n      return /(Asp|Glu)(?!Pro|Glu)/g;\n    case 'thermolysin': // N-term of  Leu, Phe, Val, Ile, Ala, Met\n      return /()(?=Ile|Leu|Val|Ala|Met|Phe)/g;\n    case 'cyanogenbromide':\n      return /(Met)/g;\n  }\n  throw new Error('Digestion enzyme: ' + enzyme + ' is unknown');\n}\n\nmodule.exports = digestSequence;\n","'use strict';\n\nmodule.exports = function(mf, options) {\n    if (options === undefined) {\n        options = {\n            a: false,\n            b: true,\n            c: false,\n            x: false,\n            y: true,\n            z: false,\n            i: false,\n            ya: false,\n            yb: false,\n            yc: false,\n            zc: false\n        };\n    }\n    options.maxInternal = options.maxInternal || Number.MAX_VALUE;\n    options.minInternal = options.minInternal || 0;\n\n    var mfs = [];\n    // need to allow 0-9 to deal with neutral loss\n    var mfparts=mf.replace(/([a-z\\)0-9])([A-Z][a-z](?=[a-z]))/g,\"$1 $2\").split(/ /);\n\n    var nTerm=\"\";\n    var cTerm=\"\";\n\n    for (var i=1; i<mfparts.length; i++) {\n        nTerm+=mfparts[i-1];\n        cTerm=mfparts[mfparts.length-i]+cTerm;\n        addNTerm(mfs, nTerm, i, options);\n        addCTerm(mfs, cTerm, i, options);\n        if (options.i) mfs.push(mfparts[i]+\"HC-1O-1(+1)$i:\"+mfparts[i]);\n\n        if (options.ya || options.yb || options.yc || options.zc) { // we have double fragmentations\n            for (var j=i+1; j<Math.min(mfparts.length,options.maxInternal+i+1);j++) {\n                var iTerm='';\n                if ((j-i)>=options.minInternal) {\n                    for (var k = i; k < j; k++) {\n                        iTerm += mfparts[k];\n                    }\n                    addITerm(mfs, iTerm, mfparts.length - i, j, options);\n                }\n            }\n        }\n    }\n\n    if (mfs.length === 0) {\n        mfs = mfs.concat([mf]);\n    }\n\n    return mfs;\n\n};\n\nfunction addNTerm(mfs, nTerm, i, options) {\n    if (options.a) mfs.push(nTerm+\"C-1O-1(+1)$a\"+i);\n    if (options.b) mfs.push(nTerm+\"(+1)$b\"+i);\n    if (options.c) mfs.push(nTerm+\"NH3(+1)$c\"+i);\n}\n\nfunction addITerm(mfs, iTerm, i, j, options) {\n    if (options.ya) mfs.push(\"H\"+iTerm+\"C-1O-1(+1)$a\"+j+\"y\"+i);\n    if (options.yb) mfs.push(\"H\"+iTerm+\"(+1)$b\"+j+\"y\"+i);\n    if (options.yc) mfs.push(\"H\"+iTerm+\"NH3(+1)$c\"+j+\"y\"+i);\n    if (options.zc) mfs.push(\"N-1\"+iTerm+\"NH3(+1)$c\"+j+\"z\"+i);\n}\n\nfunction addCTerm(mfs, cTerm, i, options) {\n    if (options.x) mfs.push(\"CO(+1)\"+cTerm+\"$x\"+i);\n    if (options.y) mfs.push(\"H2(+1)\"+cTerm+\"$y\"+i);\n    if (options.z) mfs.push(\"N-1H-1(+1)\"+cTerm+\"$z\"+i);\n}\n"],"sourceRoot":""}