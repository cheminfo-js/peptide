{"version":3,"sources":["webpack://Peptide/webpack/universalModuleDefinition","webpack://Peptide/webpack/bootstrap","webpack://Peptide/./src/aminoAcids.js","webpack://Peptide/./src/splitPeptide.js","webpack://Peptide/./src/index.js","webpack://Peptide/./src/isoElectricPoint.js","webpack://Peptide/./src/chargePeptide.js","webpack://Peptide/./src/getAA.js","webpack://Peptide/./src/allowNeutralLoss.js","webpack://Peptide/./src/digestPeptide.js","webpack://Peptide/./src/generatePeptideFragments.js","webpack://Peptide/./src/convertAASequence.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","aa3","aa1","sc","type","pKaC","pKaN","pKa","sequence","aas","replace","split","begin","end","length","slice","aa","require","IEP","chargePeptide","allowNeutralLoss","splitPeptide","digestPeptide","generatePeptideFragments","convertAASequence","getInfo","calculateIEP","calculateIEPChart","calculateChart","getColorForIEP","iep","getColor","calculateCharge","ph","sequenceToMF","aaObject","calculateForPh","combined","pH","total","Math","pow","first","last","acid","basic","combine","currentCharge","current","previous","abs","round","charge","y","x","yAbs","push","white","getAA","chargeOnePeptide","mf","options","match","firstAA","undefined","Array","isArray","code","allowOneNeutralLoss","enzyme","minMissed","maxMissed","minResidue","maxResidue","Number","MAX_VALUE","regexp","toLowerCase","Error","getRegexp","fragments","filter","entry","from","nbResidue","to","results","j","min","fragment","k","addNTerm","mfs","nTerm","a","b","addITerm","iTerm","ya","yb","yc","zc","addCTerm","cTerm","z","maxInternal","minInternal","mfparts","concat","convertAA1To3","newmf","aa1To3","charAt","newMF","search","tmpmf","parts","substr","includes","nTerminal","cTerminal","parenthesisCounter","currentSymbol"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAiB,QAAID,IAErBD,EAAc,QAAIC,IARpB,CASmB,oBAATK,KAAuBA,KAAOC,MAAM,WAC9C,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUR,QAGnC,IAAIC,EAASK,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHV,QAAS,IAUV,OANAW,EAAQH,GAAUI,KAAKX,EAAOD,QAASC,EAAQA,EAAOD,QAASO,GAG/DN,EAAOS,GAAI,EAGJT,EAAOD,QA0Df,OArDAO,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASf,EAASgB,EAAMC,GAC3CV,EAAoBW,EAAElB,EAASgB,IAClCG,OAAOC,eAAepB,EAASgB,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAASvB,GACX,oBAAXwB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAepB,EAASwB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAepB,EAAS,aAAc,CAAE0B,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAASjC,GAChC,IAAIgB,EAAShB,GAAUA,EAAO4B,WAC7B,WAAwB,OAAO5B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAM,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,G,+BC/ErDvC,EAAOD,QAAU,CAEb,CACIgB,KAAM,UACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,eAEVC,KAAM,KACNC,KAAM,MAEV,CACI9B,KAAM,WACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,WACNG,IAAK,MAETF,KAAM,KACNC,KAAM,GAEV,CACI9B,KAAM,aACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,SAEVC,KAAM,KACNC,KAAM,MAEV,CACI9B,KAAM,gBACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,WACNG,IAAK,MAETF,KAAM,KACNC,KAAM,MAEV,CACI9B,KAAM,WACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,UACNG,IAAK,MAETF,KAAM,KACNC,KAAM,OAEV,CACI9B,KAAM,gBACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,WACNG,IAAK,MAETF,KAAM,KACNC,KAAM,MAEV,CACI9B,KAAM,YACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,SAEVC,KAAM,KACNC,KAAM,GAEV,CACI9B,KAAM,UACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,WAEVC,KAAM,KACNC,KAAM,MAEV,CACI9B,KAAM,YACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,WACNG,IAAK,MAETF,KAAM,IACNC,KAAM,MAEV,CACI9B,KAAM,aACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,eAEVC,KAAM,KACNC,KAAM,KAEV,CACI9B,KAAM,UACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,eAEVC,KAAM,KACNC,KAAM,MAEV,CACI9B,KAAM,SACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,WACNG,IAAK,OAETF,KAAM,KACNC,KAAM,MAEV,CACI9B,KAAM,aACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,eAEVC,KAAM,KACNC,KAAM,MAEV,CACI9B,KAAM,gBACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,eAEVC,KAAM,KACNC,KAAM,MAEV,CACI9B,KAAM,UACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,WAEVC,KAAM,KACNC,KAAM,OAEV,CACI9B,KAAM,SACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,SAEVC,KAAM,KACNC,KAAM,MAEV,CACI9B,KAAM,YACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,SAEVC,KAAM,IACNC,KAAM,MAEV,CACI9B,KAAM,aACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,eAEVC,KAAM,KACNC,KAAM,MAEV,CACI9B,KAAM,WACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,eAEVC,KAAM,KACNC,KAAM,MAEV,CACI9B,KAAM,SACNyB,IAAK,MACLC,IAAK,IACLC,GAAI,CACAC,KAAM,eAEVC,KAAM,KACNC,KAAM,MAGV,CACI9B,KAAM,iBACNyB,IAAK,MACLC,IAAK,KAET,CACI1B,KAAM,cACNyB,IAAK,MACLC,IAAK,KAGT,CACI1B,KAAM,8BACNyB,IAAK,MACLC,IAAK,KAET,CACI1B,KAAM,6BACNyB,IAAK,MACLC,IAAK,KAET,CACI1B,KAAM,wBACNyB,IAAK,MACLC,IAAK,KAET,CACI1B,KAAM,yBACNyB,IAAK,MACLC,IAAK,O,6BCjObzC,EAAOD,QAdP,SAAuBgD,GAGrB,IAFA,IAAIC,EAAMD,EAASE,QAAQ,WAAY,OAAOC,MAAM,KAChDC,EAAQ,EACU,KAAfH,EAAIG,IAAgC,MAAfH,EAAIG,IAC9BA,IAGF,IADA,IAAIC,EAAMJ,EAAIK,OAAS,EACH,MAAbL,EAAII,IAA6B,MAAbJ,EAAII,IAC7BA,IAGF,OADAJ,EAAMA,EAAIM,MAAMH,EAAOC,EAAM,K,6BCV/B,MAAMG,EAAKC,EAAQ,GACbC,EAAMD,EAAQ,GACdE,EAAgBF,EAAQ,GACxBG,EAAmBH,EAAQ,GAC3BI,EAAeJ,EAAQ,GACvBK,EAAgBL,EAAQ,GACxBM,EAA2BN,EAAQ,GACnCO,EAAoBP,EAAQ,GAElCzD,EAAQiE,QAAU,WAChB,OAAOT,GAKTxD,EAAQ6D,aAAeA,EACvB7D,EAAQ8D,cAAgBA,EAExB9D,EAAQkE,aAAe,SAASlB,GAC9B,IAAIC,EAAMY,EAAab,GAEvB,OADaU,EAAIQ,aAAajB,IAIhCjD,EAAQmE,kBAAoB,SAASnB,GACnC,IAAIC,EAAMY,EAAab,GAEvB,OADaU,EAAIU,eAAenB,IAIlCjD,EAAQqE,eAAiB,SAASC,GAChC,OAAOZ,EAAIa,SAASD,IAGtBtE,EAAQwE,gBAAkB,SAASxB,EAAUyB,GAC3C,IAAIxB,EAAMY,EAAab,GACvB,OAAOU,EAAIc,gBAAgBvB,EAAKwB,IAGlCzE,EAAQ+D,yBAA2BA,EAEnC/D,EAAQ2D,cAAgBA,EACxB3D,EAAQ4D,iBAAmBA,EAU3B5D,EAAQgE,kBAAoBA,EAE5BhE,EAAQ0E,aAAeV,G,6BCjDvB,IAJA,IAAIR,EAAKC,EAAQ,GAGbkB,EAAS,GACJlE,EAAE,EAAGA,EAAE+C,EAAGF,OAAQ7C,IACvBkE,EAASnB,EAAG/C,GAAGgC,KAAKe,EAAG/C,GA0D3B,SAASmE,EAAeC,EAAUC,GAC9B,IAAIC,EAAM,EAGV,IAAK,IAAI/C,KAFT+C,GAAO,GAAG,EAAEC,KAAKC,IAAI,GAAGH,EAAGD,EAASK,QACpCH,IAAQ,GAAG,EAAEC,KAAKC,IAAI,GAAGJ,EAASM,KAAKL,IACvBD,EAASO,KACrBL,IAAQF,EAASO,KAAKpD,IAAM,EAAEgD,KAAKC,IAAI,GAAGN,EAAS3C,GAAKW,GAAGI,IAAI+B,IAEnE,IAAK,IAAI9C,KAAO6C,EAASQ,MACrBN,GAAOF,EAASQ,MAAMrD,IAAM,EAAEgD,KAAKC,IAAI,GAAGH,EAAGH,EAAS3C,GAAKW,GAAGI,MAElE,OAAOgC,EAIX,SAASO,EAAQrC,GACb,IAAI4B,EAAS,GACb,GAAIF,EAAS1B,EAAI,MACb4B,EAASK,MAAMP,EAAS1B,EAAI,IAAIH,KAIhC6B,EAAS1B,EAAIA,EAAIK,OAAO,KAA5B,CACIuB,EAASM,KAAKR,EAAS1B,EAAIA,EAAIK,OAAO,IAAIT,KAI9CgC,EAASQ,MAAM,GACfR,EAASO,KAAK,GACd,IAAK,IAAI3E,EAAE,EAAGA,EAAEwC,EAAIK,OAAQ7C,IAAK,CAC7B,IAAI+C,EAAGP,EAAIxC,GACX,IAAMkE,EAASnB,GAAK,OAChBmB,EAASnB,GAAIb,IAAMgC,EAASnB,GAAIb,GAAGC,OACT,YAAtB+B,EAASnB,GAAIb,GAAGC,MACXiC,EAASQ,MAAM7B,KAChBqB,EAASQ,MAAM7B,GAAM,GAEzBqB,EAASQ,MAAM7B,MACc,YAAtBmB,EAASnB,GAAIb,GAAGC,OAClBiC,EAASO,KAAK5B,KACfqB,EAASO,KAAK5B,GAAM,GAExBqB,EAASO,KAAK5B,OAI1B,OAAOqB,GAqBX5E,EAAOD,QAAQ,CACXkE,aA9GJ,SAAsBjB,GAClB,IAAI4B,EAASS,EAAQrC,GACrB,GAAK4B,EAAL,CAMA,IALA,IAIIU,EAJAL,EAAM,EACNC,EAAK,GACLK,EAAQ,GACRC,EAAS,EAENT,KAAKU,IAAIF,EAAQC,GAAU,MAC9BA,EAASD,GAETD,EAAcX,EAAeC,EAD7BW,GAASL,EAAOD,GAAS,IAEP,EACdA,EAAMM,EACCD,EAAc,EACrBJ,EAAKK,EAELC,EAASD,EAGjB,OAAOR,KAAKW,MAAc,IAARH,GAAc,MA2FhChB,gBAzHJ,SAAyBvB,EAAK6B,GACpBA,IAAIA,EAAG,GACb,IAAID,EAASS,EAAQrC,GACrB,GAAK4B,EAAL,CACA,IAAIe,EAAOhB,EAAeC,EAAUC,GACpC,OAAOE,KAAKW,MAAa,IAAPC,GAAa,MAqH/BxB,eAzFJ,SAAwBnB,GACpB,IAAI4B,EAASS,EAAQrC,GACrB,GAAK4B,EAAL,CAIA,IAHA,IAAIgB,EAAE,GACFC,EAAE,GACFC,EAAK,GACAtF,EAAE,EAAGA,GAAG,GAAIA,GAAI,IAAM,CAC3B,IAAImF,EAAOhB,EAAeC,EAAUpE,GACpCqF,EAAEE,KAAKvF,GACPoF,EAAEG,KAAKJ,GACPG,EAAKC,KAAKhB,KAAKU,IAAIE,IAMvB,OAJAf,EAASiB,EAAEA,EACXjB,EAASgB,EAAEA,EACXhB,EAASkB,KAAKA,EAEPlB,IA0EPN,SAjBJ,SAAkBD,GAGV,IAII2B,EANR,OAAI3B,EAAI,GACAA,EAAI,IAAGA,EAAI,GAER,QADH2B,EAAMjB,KAAKW,MAAM,IAAI,IAAC,EAAErB,KACR,IAAI2B,EAAM,SACvB3B,EAAI,GACPA,EAAI,KAAIA,EAAI,IAET,YADH2B,EAAMjB,KAAKW,MAAM,IAAI,IAACrB,EAAI,KACN,IAAI2B,EAAM,KAE/B,sB,6BC/HX,IAAIC,EAAQzC,EAAQ,GAiBpB,SAAS0C,EAAiBC,EAAIC,GAC1B,IAAIvB,EAAGuB,EAAQvB,GAIf,GAAIsB,EAAGE,MAAM,mBAAoB,CAC7B,IAAIC,EAAQH,EAAGlD,QAAQ,sBAAsB,MACzCgD,EAAMK,IAAYzB,EAAGoB,EAAMK,GAASzD,OACpCsD,EAAGA,EAAGlD,QAAQ,WAAY,UAKlC,GAAIkD,EAAGE,MAAM,oBAAqB,CACnBF,EAAGlD,QAAQ,uBAAuB,MACzCgD,EAAMK,IAAYzB,EAAGoB,EAAMK,GAAS1D,OACpCuD,EAAGA,EAAGlD,QAAQ,MAAO,OAe7B,OAVI4B,EAAKoB,EAAM,OAAOvD,GAAGI,MAAKqD,EAAGA,EAAGlD,QAAQ,eAAgB,WACxD4B,EAAKoB,EAAM,OAAOvD,GAAGI,MAAKqD,EAAGA,EAAGlD,QAAQ,eAAgB,WACxD4B,EAAKoB,EAAM,OAAOvD,GAAGI,MAAKqD,EAAGA,EAAGlD,QAAQ,eAAgB,WAGxD4B,EAAKoB,EAAM,OAAOvD,GAAGI,MAAKqD,EAAGA,EAAGlD,QAAQ,eAAgB,aACxD4B,EAAKoB,EAAM,OAAOvD,GAAGI,MAAKqD,EAAGA,EAAGlD,QAAQ,eAAgB,aAExD4B,EAAKoB,EAAM,OAAOvD,GAAGI,MAAKqD,EAAGA,EAAGlD,QAAQ,eAAgB,aAErDkD,EAGXnG,EAAOD,QA/CP,SAAuBoG,EAAIC,GAGvB,QADmBG,KADfH,EAAQA,GAAW,IACXvB,KAAkBuB,EAAQvB,GAAG,GACrC2B,MAAMC,QAAQN,GAAK,CACnB,IAAK,IAAI3F,EAAE,EAAGA,EAAE2F,EAAG9C,OAAQ7C,IACvB2F,EAAG3F,GAAG0F,EAAiBC,EAAG3F,GAAI4F,GAElC,OAAOD,EAEP,OAAOD,EAAiBC,EAAIC,K,6BCbpC,IAAI7C,EAAKC,EAAQ,GAmBjBxD,EAAOD,QAjBP,SAAe2G,GACX,GAAkB,IAAdA,EAAKrD,OACL,IAAK,IAAI7C,EAAI,EAAGA,EAAI+C,EAAGF,OAAQ7C,IAC3B,GAAI+C,EAAG/C,GAAGiC,MAAQiE,EACd,OAAOnD,EAAG/C,GAItB,GAAkB,IAAdkG,EAAKrD,OACL,IAAS7C,EAAI,EAAGA,EAAI+C,EAAGF,OAAQ7C,IAC3B,GAAI+C,EAAG/C,GAAGgC,MAAQkE,EACd,OAAOnD,EAAG/C,K,cCH1B,SAASmG,EAAoBR,EAAIC,GAI7B,OAFAD,GADAA,EAAGA,EAAGlD,QAAQ,2BAA4B,kBACpCA,QAAQ,2BAA4B,iBAK9CjD,EAAOD,QAlBP,SAA0BoG,EAAIC,GAC1B,GAAII,MAAMC,QAAQN,GAAK,CACnB,IAAK,IAAI3F,EAAE,EAAGA,EAAE2F,EAAG9C,OAAQ7C,IACvB2F,EAAG3F,GAAGmG,EAAoBR,EAAG3F,GAAI4F,GAErC,OAAOD,EAEP,OAAOQ,EAAoBR,EAAIC,K,6BCNnB5C,EAAQ,GA6F5BxD,EAAOD,QAlFP,SAAwBgD,EAAUqD,GAC5BA,EAAUA,GAAW,GAEzBrD,EAAWA,EAASE,QAAQ,aAAc,MAAMA,QAAQ,MAAO,IAE/DmD,EAAQQ,OAASR,EAAQQ,QAAU,eACTL,IAAtBH,EAAQS,YAAyBT,EAAQS,UAAY,QAC/BN,IAAtBH,EAAQU,YAAyBV,EAAQU,UAAY,QAC9BP,IAAvBH,EAAQW,aAA0BX,EAAQW,WAAa,QAChCR,IAAvBH,EAAQY,aAA0BZ,EAAQY,WAAaC,OAAOC,WAQlE,IAPA,IAAIC,EAkDN,SAAmBP,GACjB,OAAQA,EAAOQ,cAAcnE,QAAQ,aAAc,KACjD,IAAK,eACH,MAAO,wBACT,IAAK,UACH,MAAO,oBACT,IAAK,OACH,MAAO,gBACT,IAAK,UACH,MAAO,oBACT,IAAK,UACH,MAAO,wBACT,IAAK,cACH,MAAO,iCACT,IAAK,kBACH,MAAO,SACT,IAAK,MACH,MAAO,yBAEX,MAAM,IAAIoE,MAAM,qBAAuBT,EAAS,eArEnCU,CAAUlB,EAAQQ,QAC3BW,EAAYxE,EACbE,QAAQkE,EAAQ,OAChBjE,MAAM,KACNsE,OAAOC,GAASA,GAEfC,EAAO,EACFlH,EAAI,EAAGA,EAAI+G,EAAUlE,OAAQ7C,IAAK,CACzC,IAAImH,EAAYJ,EAAU/G,GACvByC,QAAQ,qBAAsB,OAC9BC,MAAM,KACNsE,OAAOC,GAASA,GAAOpE,OAC1BkE,EAAU/G,GAAK,CACbuC,SAAUwE,EAAU/G,GACpBmH,UAAWA,EACXD,KAAMA,EACNE,GAAIF,EAAOC,EAAY,GAEzBD,GAAQC,EAGV,IAAIE,EAAU,GAEd,IAASrH,EAAI,EAAGA,EAAI+G,EAAUlE,OAAS+C,EAAQS,UAAWrG,IACxD,IACE,IAAIsH,EAAI1B,EAAQS,UAChBiB,GAAK/C,KAAKgD,IAAI3B,EAAQU,UAAWS,EAAUlE,OAAS7C,EAAI,GACxDsH,IACA,CAGA,IAFA,IAAIE,EAAW,GAENC,GADLN,EAAY,EACHnH,GAAGyH,GAAKzH,EAAIsH,EAAGG,IAC1BD,GAAYT,EAAUU,GAAGlF,SACzB4E,GAAaJ,EAAUU,GAAGN,UAExBD,EAAOH,EAAU/G,GAAGkH,KAAO,EAA/B,IACIE,EAAKL,EAAU/G,EAAIsH,GAAGF,GAAK,EAE7BI,GACAL,GAAavB,EAAQW,YACrBY,GAAavB,EAAQY,YAErBa,EAAQ9B,KAAK,IAAMiC,EAAW,OAAcN,EAAO,IAAME,GAK/D,OAAOC,I,6BCdT,SAASK,EAASC,EAAKC,EAAO5H,EAAG4F,GACzBA,EAAQiC,GAAGF,EAAIpC,KAAKqC,EAAM,eAAe5H,GACzC4F,EAAQkC,GAAGH,EAAIpC,KAAKqC,EAAM,SAAS5H,GACnC4F,EAAQvF,GAAGsH,EAAIpC,KAAKqC,EAAM,YAAY5H,GAG9C,SAAS+H,EAASJ,EAAKK,EAAOhI,EAAGsH,EAAG1B,GAC5BA,EAAQqC,IAAIN,EAAIpC,KAAK,IAAIyC,EAAM,eAAeV,EAAE,IAAItH,GACpD4F,EAAQsC,IAAIP,EAAIpC,KAAK,IAAIyC,EAAM,SAASV,EAAE,IAAItH,GAC9C4F,EAAQuC,IAAIR,EAAIpC,KAAK,IAAIyC,EAAM,YAAYV,EAAE,IAAItH,GACjD4F,EAAQwC,IAAIT,EAAIpC,KAAK,MAAMyC,EAAM,YAAYV,EAAE,IAAItH,GAG3D,SAASqI,EAASV,EAAKW,EAAOtI,EAAG4F,GACzBA,EAAQP,GAAGsC,EAAIpC,KAAK,SAAS+C,EAAM,KAAKtI,GACxC4F,EAAQR,GAAGuC,EAAIpC,KAAK,SAAS+C,EAAM,KAAKtI,GACxC4F,EAAQ2C,GAAGZ,EAAIpC,KAAK,aAAa+C,EAAM,KAAKtI,GAtEpDR,EAAOD,QAAU,SAASoG,EAAIC,QACVG,IAAZH,IACAA,EAAU,CACNiC,GAAG,EACHC,GAAG,EACHzH,GAAG,EACHgF,GAAG,EACHD,GAAG,EACHmD,GAAG,EACHvI,GAAG,EACHiI,IAAI,EACJC,IAAI,EACJC,IAAI,EACJC,IAAI,IAGZxC,EAAQ4C,YAAc5C,EAAQ4C,aAAe/B,OAAOC,UACpDd,EAAQ6C,YAAc7C,EAAQ6C,aAAe,EAS7C,IAPA,IAAId,EAAM,GAENe,EAAQ/C,EAAGlD,QAAQ,qCAAqC,SAASC,MAAM,KAEvEkF,EAAM,GACNU,EAAM,GAEDtI,EAAE,EAAGA,EAAE0I,EAAQ7F,OAAQ7C,IAO5B,GANA4H,GAAOc,EAAQ1I,EAAE,GACjBsI,EAAMI,EAAQA,EAAQ7F,OAAO7C,GAAGsI,EAChCZ,EAASC,EAAKC,EAAO5H,EAAG4F,GACxByC,EAASV,EAAKW,EAAOtI,EAAG4F,GACpBA,EAAQ5F,GAAG2H,EAAIpC,KAAKmD,EAAQ1I,GAAG,iBAAiB0I,EAAQ1I,IAExD4F,EAAQqC,IAAMrC,EAAQsC,IAAMtC,EAAQuC,IAAMvC,EAAQwC,GAClD,IAAK,IAAId,EAAEtH,EAAE,EAAGsH,EAAE/C,KAAKgD,IAAImB,EAAQ7F,OAAO+C,EAAQ4C,YAAYxI,EAAE,GAAGsH,IAAK,CACpE,IAAIU,EAAM,GACV,GAAKV,EAAEtH,GAAI4F,EAAQ6C,YAAa,CAC5B,IAAK,IAAIhB,EAAIzH,EAAGyH,EAAIH,EAAGG,IACnBO,GAASU,EAAQjB,GAErBM,EAASJ,EAAKK,EAAOU,EAAQ7F,OAAS7C,EAAGsH,EAAG1B,IAU5D,OAJmB,IAAf+B,EAAI9E,SACJ8E,EAAMA,EAAIgB,OAAO,CAAChD,KAGfgC,I,6BClDX,MAAM5E,EAAKC,EAAQ,GAmEnB,SAAS4F,EAAcjD,GAErB,IADA,IAAIkD,EAAQ,GACH7I,EAAI,EAAGA,EAAI2F,EAAG9C,OAAQ7C,IAC7B6I,GAASC,EAAOnD,EAAGoD,OAAO/I,IAE5B,OAAO6I,EAGT,SAASC,EAAO5C,GACd,IAAK,IAAIlG,EAAI,EAAGA,EAAI+C,EAAGF,OAAQ7C,IAC7B,GAAI+C,EAAG/C,GAAGiC,MAAQiE,EAChB,OAAOnD,EAAG/C,GAAGgC,IAGjB,MAAM,IAAI6E,MAAM,0BAA4BX,GAG9C1G,EAAOD,QAlFP,SAA2BoG,GAIzB,IAAIqD,EAAQrD,EAMZ,GAAIA,EAAGsD,OAAO,+BAAiC,EAAG,CAEhD,IAAIC,EAAQvD,EAAGlD,QAAQ,WAAY,KAG/B0G,GAFJD,EAAQA,EAAMzG,QAAQ,2CAA4C,KAEhDC,MAAM,KACxBsG,EAAQ,IACR,IAAK,IAAIhJ,EAAI,EAAGA,EAAImJ,EAAMtG,OAAQ7C,IAChCgJ,GAASG,EAAMnJ,GAAGoJ,OAAO,EAAG,GAAKD,EAAMnJ,GAAGoJ,OAAO,GAAGxC,cAEtDoC,GAAS,UACJ,GAAIrD,EAAG0D,SAAS,KAAM,CAE3BL,EAAQ,GACR,IAAIM,EAAY,IACZC,EAAY,KACZC,EAAqB,EACzB,IAAK,IAAIxJ,EAAI,EAAGA,EAAI2F,EAAG9C,OAAQ7C,IAAK,CAClC,IAAIyJ,EAAgB9D,EAAG3F,GAEH,MAAlByJ,GACkB,MAAlBA,GACAD,EAAqB,GAEC,MAAlBC,IACFD,IACU,IAANxJ,IAASsJ,EAAY,KAEL,MAAlBG,IACFD,IACIxJ,IAAM2F,EAAG9C,OAAS,IAAG0G,EAAY,KAEvCP,GAASS,GAGXT,GAASJ,EAAca,GAEzBT,EAAQM,EAAYN,EAAQO,OAE5B5D,EAAGsD,OAAO,aAAe,IACS,GAAlCtD,EAAGsD,OAAO,sBASVD,EAAQ,IAAMJ,EAAcI,EAAMvG,QAAQ,UAAW,KAAO,MAG9D,OAAOuG","file":"peptide.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Peptide\"] = factory();\n\telse\n\t\troot[\"Peptide\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","'use strict';\n\n// SOURCE: https://en.wikipedia.org/wiki/Amino_acid\nmodule.exports = [\n    // Standard amino acids\n    {\n        name: \"Alanine\",\n        aa3: \"Ala\",\n        aa1: \"A\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.33,\n        pKaN: 9.71\n    },\n    {\n        name: \"Arginine\",\n        aa3: \"Arg\",\n        aa1: \"R\",\n        sc: {\n            type: \"positive\",\n            pKa: 12.10\n        },\n        pKaC: 2.03,\n        pKaN: 9.00\n    },\n    {\n        name: \"Asparagine\",\n        aa3: \"Asn\",\n        aa1: \"N\",\n        sc: {\n            type: \"polar\"\n        },\n        pKaC: 2.13,\n        pKaN: 9.05\n    },\n    {\n        name: \"Aspartic acid\",\n        aa3: \"Asp\",\n        aa1: \"D\",\n        sc: {\n            type: \"negative\",\n            pKa: 3.71\n        },\n        pKaC: 1.95,\n        pKaN: 9.66\n    },\n    {\n        name: \"Cysteine\",\n        aa3: \"Cys\",\n        aa1: \"C\",\n        sc: {\n            type: \"special\",\n            pKa: 8.14\n        },\n        pKaC: 1.91,\n        pKaN: 10.28\n    },\n    {\n        name: \"Glutamic acid\",\n        aa3: \"Glu\",\n        aa1: \"E\",\n        sc: {\n            type: \"negative\",\n            pKa: 4.15\n        },\n        pKaC: 2.16,\n        pKaN: 9.58\n    },\n    {\n        name: \"Glutamine\",\n        aa3: \"Gln\",\n        aa1: \"Q\",\n        sc: {\n            type: \"polar\"\n        },\n        pKaC: 2.18,\n        pKaN: 9.00\n    },\n    {\n        name: \"Glycine\",\n        aa3: \"Gly\",\n        aa1: \"G\",\n        sc: {\n            type: \"special\"\n        },\n        pKaC: 2.34,\n        pKaN: 9.58\n    },\n    {\n        name: \"Histidine\",\n        aa3: \"His\",\n        aa1: \"H\",\n        sc: {\n            type: \"positive\",\n            pKa: 6.04\n        },\n        pKaC: 1.70,\n        pKaN: 9.09\n    },\n    {\n        name: \"Isoleucine\",\n        aa3: \"Ile\",\n        aa1: \"I\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.26,\n        pKaN: 9.60\n    },\n    {\n        name: \"Leucine\",\n        aa3: \"Leu\",\n        aa1: \"L\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.32,\n        pKaN: 9.58\n    },\n    {\n        name: \"Lysine\",\n        aa3: \"Lys\",\n        aa1: \"K\",\n        sc: {\n            type: \"positive\",\n            pKa: 10.67\n        },\n        pKaC: 2.15,\n        pKaN: 9.16\n    },\n    {\n        name: \"Methionine\",\n        aa3: \"Met\",\n        aa1: \"M\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.16,\n        pKaN: 9.08\n    },\n    {\n        name: \"Phenylalanine\",\n        aa3: \"Phe\",\n        aa1: \"F\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.18,\n        pKaN: 9.09\n    },\n    {\n        name: \"Proline\",\n        aa3: \"Pro\",\n        aa1: \"P\",\n        sc: {\n            type: \"special\"\n        },\n        pKaC: 1.95,\n        pKaN: 10.47\n    },\n    {\n        name: \"Serine\",\n        aa3: \"Ser\",\n        aa1: \"S\",\n        sc: {\n            type: \"polar\"\n        },\n        pKaC: 2.13,\n        pKaN: 9.05\n    },\n    {\n        name: \"Threonine\",\n        aa3: \"Thr\",\n        aa1: \"T\",\n        sc: {\n            type: \"polar\"\n        },\n        pKaC: 2.20,\n        pKaN: 8.96\n    },\n    {\n        name: \"Tryptophan\",\n        aa3: \"Trp\",\n        aa1: \"W\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.38,\n        pKaN: 9.34\n    },\n    {\n        name: \"Tyrosine\",\n        aa3: \"Tyr\",\n        aa1: \"Y\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.24,\n        pKaN: 9.04\n    },\n    {\n        name: \"Valine\",\n        aa3: \"Val\",\n        aa1: \"V\",\n        sc: {\n            type: \"hydrophobic\"\n        },\n        pKaC: 2.27,\n        pKaN: 9.52\n    },\n    // Additional\n    {\n        name: \"Selenocysteine\",\n        aa3: \"Sec\",\n        aa1: \"U\"\n    },\n    {\n        name: \"Pyrrolysine\",\n        aa3: \"Pyl\",\n        aa1: \"O\"\n    },\n    // Ambiguous\n    {\n        name: \"Asparagine or aspartic acid\",\n        aa3: \"Asx\",\n        aa1: \"B\"\n    },\n    {\n        name: \"Glutamine or glutamic acid\",\n        aa3: \"Glx\",\n        aa1: \"Z\"\n    },\n    {\n        name: \"Leucine or isoleucine\",\n        aa3: \"Xle\",\n        aa1: \"J\"\n    },\n    {\n        name: \"Unspecified or unknown\",\n        aa3: \"Xaa\",\n        aa1: \"X\"\n    }\n];\n","'use strict';\n\nfunction splitSequence(sequence) {\n  var aas = sequence.replace(/([A-Z])/g, ' $1').split(/ /);\n  var begin = 0;\n  while (aas[begin] === '' || aas[begin] === 'H') {\n    begin++;\n  }\n  var end = aas.length - 1;\n  while (aas[end] === 'O' || aas[end] === 'H') {\n    end--;\n  }\n  aas = aas.slice(begin, end + 1);\n  return aas;\n}\n\nmodule.exports = splitSequence;\n","'use strict';\n\nconst aa = require('./aminoAcids');\nconst IEP = require('./isoElectricPoint');\nconst chargePeptide = require('./chargePeptide');\nconst allowNeutralLoss = require('./allowNeutralLoss');\nconst splitPeptide = require('./splitPeptide');\nconst digestPeptide = require('./digestPeptide');\nconst generatePeptideFragments = require('./generatePeptideFragments');\nconst convertAASequence = require('./convertAASequence');\n\nexports.getInfo = function() {\n  return aa;\n};\n\n// sequence should be in the \"right\" format like HAlaGlyProOH\n\nexports.splitPeptide = splitPeptide;\nexports.digestPeptide = digestPeptide;\n\nexports.calculateIEP = function(sequence) {\n  var aas = splitPeptide(sequence);\n  var result = IEP.calculateIEP(aas);\n  return result;\n};\n\nexports.calculateIEPChart = function(sequence) {\n  var aas = splitPeptide(sequence);\n  var result = IEP.calculateChart(aas);\n  return result;\n};\n\nexports.getColorForIEP = function(iep) {\n  return IEP.getColor(iep);\n};\n\nexports.calculateCharge = function(sequence, ph) {\n  var aas = splitPeptide(sequence);\n  return IEP.calculateCharge(aas, ph);\n};\n\nexports.generatePeptideFragments = generatePeptideFragments;\n\nexports.chargePeptide = chargePeptide;\nexports.allowNeutralLoss = allowNeutralLoss;\n\nfunction capitalizeAA3(mf) {\n  for (var i = 0; i < aa.length; i++) {\n    var regexp = new RegExp(aa[i].aa3, 'gi');\n    mf = mf.replace(regexp, aa[i].aa3);\n  }\n  return mf;\n}\n\nexports.convertAASequence = convertAASequence;\n\nexports.sequenceToMF = convertAASequence;\n","'use strict';\n\n\nvar aa = require('./aminoAcids');\n\n// we will convert the data to an object to be much faster\nvar aaObject={};\nfor (var i=0; i<aa.length; i++) {\n    aaObject[aa[i].aa3]=aa[i];\n}\n\n\n\nfunction calculateCharge(aas, pH) {\n    if (! pH) pH=7.0;\n    var combined=combine(aas);\n    if (!combined) return;\n    var charge=calculateForPh(combined, pH);\n    return Math.round(charge*1000)/1000;\n}\n\n// this methods required an array of aas\n\nfunction calculateIEP(aas) {\n    var combined=combine(aas);\n    if (!combined) return;\n    var first=0;\n    var last=14;\n    var current=14;\n    var previous=0;\n    var currentCharge;\n    while (Math.abs(current-previous)>0.0001) {\n        previous=current;\n        current=(last + first) / 2;\n        currentCharge=calculateForPh(combined, current);\n        if (currentCharge>0) {\n            first=current;\n        } else if (currentCharge<0) {\n            last=current;\n        } else {\n            previous=current;\n        }\n    }\n    return Math.round(current*1000)/1000;\n}\n\nfunction calculateChart(aas) {\n    var combined=combine(aas);\n    if (!combined) return;\n    var y=[];\n    var x=[];\n    var yAbs=[];\n    for (var i=0; i<=14; i=i+0.01) {\n        var charge=calculateForPh(combined, i);\n        x.push(i);\n        y.push(charge);\n        yAbs.push(Math.abs(charge));\n    }\n    combined.x=x;\n    combined.y=y;\n    combined.yAbs=yAbs;\n\n    return combined;\n}\n\n\nfunction calculateForPh(combined, pH) {\n    var total=0;\n    total+=1/(1+Math.pow(10,pH-combined.first));\n    total+=-1/(1+Math.pow(10,combined.last-pH));\n    for (var key in combined.acid) {\n        total+=-combined.acid[key]/(1+Math.pow(10,aaObject[key].sc.pKa-pH));\n    }\n    for (var key in combined.basic) {\n        total+=combined.basic[key]/(1+Math.pow(10,pH-aaObject[key].sc.pKa));\n    }\n    return total;\n}\n\n// we will combine the amino acids\nfunction combine(aas) {\n    var combined={};\n    if (aaObject[aas[0]]) {\n        combined.first=aaObject[aas[0]].pKaN;\n    } else {\n        return;\n    }\n    if (aaObject[aas[aas.length-1]]) {\n        combined.last=aaObject[aas[aas.length-1]].pKaC;\n    } else {\n        return;\n    }\n    combined.basic={};\n    combined.acid={};\n    for (var i=0; i<aas.length; i++) {\n        var aa=aas[i];\n        if (! aaObject[aa]) return;\n        if (aaObject[aa].sc && aaObject[aa].sc.type) {\n            if (aaObject[aa].sc.type==\"positive\") {\n                if (!combined.basic[aa]) {\n                    combined.basic[aa] = 0;\n                }\n                combined.basic[aa]++;\n            } else if (aaObject[aa].sc.type==\"negative\") {\n                if (!combined.acid[aa]) {\n                    combined.acid[aa] = 0;\n                }\n                combined.acid[aa]++;\n            }\n        }\n    }\n    return combined;\n}\n\n/*\n We can generate a color based on iep\n 0 -> 7 means that at pH 7 it is charged negatively (blue)\n 7 -> 14 means that at pH7 it is charged positively (red)\n */\nfunction getColor(iep) {\n    if (iep<7) {\n        if (iep<3) iep=3;\n        var white=Math.round(255-(7-iep)*(200/4));\n        return \"rgb(\"+white+\",\"+white+\",255)\";\n    } else if (iep>7) {\n        if (iep>11) iep=11;\n        var white=Math.round(255-(iep-7)*(200/4));\n        return \"rgb(255,\"+white+\",\"+white+\")\";\n    }\n    return \"rgb(255,255,255)\";\n}\n\nmodule.exports={\n    calculateIEP: calculateIEP,\n    calculateCharge: calculateCharge,\n    calculateChart: calculateChart,\n    getColor: getColor\n}\n\n","'use strict';\n\nvar getAA = require('./getAA');\n\n// SOURCE: https://en.wikipedia.org/wiki/Amino_acid\n\nfunction chargePeptide(mf, options) {\n    var options=options || {};\n    if (options.pH === undefined) options.pH=0;\n    if (Array.isArray(mf)) {\n        for (var i=0; i<mf.length; i++) {\n            mf[i]=chargeOnePeptide(mf[i], options);\n        }\n        return mf;\n    } else {\n        return chargeOnePeptide(mf, options);\n    }\n}\n\nfunction chargeOnePeptide(mf, options) {\n    var pH=options.pH;\n    // we will allow to charge the peptide at a specific pH\n\n    // first amino acids (N-terminal)\n    if (mf.match(/^H[A-Z][a-z]{2}/)) {\n        var firstAA=mf.replace(/^H([A-Z][a-z]{2}).*/,\"$1\");\n        if (getAA(firstAA) && pH<getAA(firstAA).pKaN) {\n            mf=mf.replace(/^H([^+])/, 'H+H$1');\n        }\n    }\n\n    // last amino acids (C-terminal)\n    if (mf.match(/[A-Z][a-z]{2}OH$/)) {\n        var lastAA=mf.replace(/.*([A-Z][a-z]{2})OH$/,\"$1\");\n        if (getAA(firstAA) && pH>getAA(firstAA).pKaC) {\n            mf=mf.replace(/OH$/, 'O-');\n        }\n    }\n\n    // basic AA\n    if (pH < getAA('Arg').sc.pKa) mf=mf.replace(/(Arg)(?!\\()/g, '$1(H+)');\n    if (pH < getAA('His').sc.pKa) mf=mf.replace(/(His)(?!\\()/g, '$1(H+)');\n    if (pH < getAA('Lys').sc.pKa) mf=mf.replace(/(Lys)(?!\\()/g, '$1(H+)');\n\n    // acid AA\n    if (pH > getAA('Asp').sc.pKa) mf=mf.replace(/(Asp)(?!\\()/g, '$1(H-1-)');\n    if (pH > getAA('Glu').sc.pKa) mf=mf.replace(/(Glu)(?!\\()/g, '$1(H-1-)');\n\n    if (pH > getAA('Cys').sc.pKa) mf=mf.replace(/(Cys)(?!\\()/g, '$1(H-1-)');\n\n    return mf;\n};\n\nmodule.exports = chargePeptide;\n\n","'use strict';\n\nvar aa = require('./aminoAcids');\n\nfunction getAA(code) {\n    if (code.length===1) {\n        for (var i = 0; i < aa.length; i++) {\n            if (aa[i].aa1 === code) {\n                return aa[i];\n            }\n        }\n    }\n    if (code.length===3) {\n        for (var i = 0; i < aa.length; i++) {\n            if (aa[i].aa3 === code) {\n                return aa[i];\n            }\n        }\n    }\n}\n\nmodule.exports = getAA;","\nfunction allowNeutralLoss(mf, options) {\n    if (Array.isArray(mf)) {\n        for (var i=0; i<mf.length; i++) {\n            mf[i]=allowOneNeutralLoss(mf[i], options);\n        }\n        return mf;\n    } else {\n        return allowOneNeutralLoss(mf, options);\n    }\n}\n\nfunction allowOneNeutralLoss(mf, options) {\n    mf=mf.replace(/(Ser|Thr|Asp|Glu)(?!\\()/g, '$1(H-2O-1)0-1');\n    mf=mf.replace(/(Arg|Lys|Asn|Gln)(?!\\()/g, '$1(N-1H-3)0-1');\n\n    return mf;\n};\n\nmodule.exports = allowNeutralLoss;\n\n","'use strict';\n\nvar splitSequence = require('./splitPeptide');\n\n/*\nIotuibs:\n* minMissed (default: 0)\n* maxMissed (default: 0)\n* minResidue: 0;\n* maxResidue: infinity\n* enzyme: chymotrypsin, trypsin, glucph4, glucph8, thermolysin, cyanogenbromide : Mandatory, no default value !\n */\n\nfunction digestSequence(sequence, options) {\n  var options = options || {};\n\n  sequence = sequence.replace(/^H([^a-z])/, '$1').replace(/OH$/, '');\n\n  options.enzyme = options.enzyme || 'trypsin';\n  if (options.minMissed === undefined) options.minMissed = 0;\n  if (options.maxMissed === undefined) options.maxMissed = 0;\n  if (options.minResidue === undefined) options.minResidue = 0;\n  if (options.maxResidue === undefined) options.maxResidue = Number.MAX_VALUE;\n  var regexp = getRegexp(options.enzyme);\n  var fragments = sequence\n    .replace(regexp, '$1 ')\n    .split(/ /)\n    .filter(entry => entry);\n\n  var from = 0;\n  for (var i = 0; i < fragments.length; i++) {\n    var nbResidue = fragments[i]\n      .replace(/([A-Z][a-z][a-z])/g, ' $1')\n      .split(/ /)\n      .filter(entry => entry).length;\n    fragments[i] = {\n      sequence: fragments[i],\n      nbResidue: nbResidue,\n      from: from,\n      to: from + nbResidue - 1\n    };\n    from += nbResidue;\n  }\n\n  var results = [];\n\n  for (var i = 0; i < fragments.length - options.minMissed; i++) {\n    for (\n      var j = options.minMissed;\n      j <= Math.min(options.maxMissed, fragments.length - i - 1);\n      j++\n    ) {\n      var fragment = '';\n      var nbResidue = 0;\n      for (var k = i; k <= i + j; k++) {\n        fragment += fragments[k].sequence;\n        nbResidue += fragments[k].nbResidue;\n      }\n      var from = fragments[i].from + 1;\n      var to = fragments[i + j].to + 1;\n      if (\n        fragment &&\n        nbResidue >= options.minResidue &&\n        nbResidue <= options.maxResidue\n      ) {\n        results.push('H' + fragment + 'OH' + '$D' + from + '>' + to);\n      }\n    }\n  }\n\n  return results;\n}\n\nfunction getRegexp(enzyme) {\n  switch (enzyme.toLowerCase().replace(/[^a-z0-9]/g, '')) {\n    case 'chymotrypsin':\n      return /(Phe|Tyr|Trp)(?!Pro)/g;\n    case 'trypsin':\n      return /(Lys|Arg)(?!Pro)/g;\n    case 'lysc':\n      return /(Lys)(?!Pro)/g;\n    case 'glucph4':\n      return /(Glu)(?!Pro|Glu)/g;\n    case 'glucph8':\n      return /(Asp|Glu)(?!Pro|Glu)/g;\n    case 'thermolysin': // N-term of  Leu, Phe, Val, Ile, Ala, Met\n      return /()(?=Ile|Leu|Val|Ala|Met|Phe)/g;\n    case 'cyanogenbromide':\n      return /(Met)/g;\n    case 'any':\n      return /()(?=[A-Z][a-z][a-z])/g;\n  }\n  throw new Error('Digestion enzyme: ' + enzyme + ' is unknown');\n}\n\nmodule.exports = digestSequence;\n","'use strict';\n\nmodule.exports = function(mf, options) {\n    if (options === undefined) {\n        options = {\n            a: false,\n            b: true,\n            c: false,\n            x: false,\n            y: true,\n            z: false,\n            i: false,\n            ya: false,\n            yb: false,\n            yc: false,\n            zc: false\n        };\n    }\n    options.maxInternal = options.maxInternal || Number.MAX_VALUE;\n    options.minInternal = options.minInternal || 0;\n\n    var mfs = [];\n    // need to allow 0-9 to deal with neutral loss\n    var mfparts=mf.replace(/([a-z\\)0-9])([A-Z][a-z](?=[a-z]))/g,\"$1 $2\").split(/ /);\n\n    var nTerm=\"\";\n    var cTerm=\"\";\n\n    for (var i=1; i<mfparts.length; i++) {\n        nTerm+=mfparts[i-1];\n        cTerm=mfparts[mfparts.length-i]+cTerm;\n        addNTerm(mfs, nTerm, i, options);\n        addCTerm(mfs, cTerm, i, options);\n        if (options.i) mfs.push(mfparts[i]+\"HC-1O-1(+1)$i:\"+mfparts[i]);\n\n        if (options.ya || options.yb || options.yc || options.zc) { // we have double fragmentations\n            for (var j=i+1; j<Math.min(mfparts.length,options.maxInternal+i+1);j++) {\n                var iTerm='';\n                if ((j-i)>=options.minInternal) {\n                    for (var k = i; k < j; k++) {\n                        iTerm += mfparts[k];\n                    }\n                    addITerm(mfs, iTerm, mfparts.length - i, j, options);\n                }\n            }\n        }\n    }\n\n    if (mfs.length === 0) {\n        mfs = mfs.concat([mf]);\n    }\n\n    return mfs;\n\n};\n\nfunction addNTerm(mfs, nTerm, i, options) {\n    if (options.a) mfs.push(nTerm+\"C-1O-1(+1)$a\"+i);\n    if (options.b) mfs.push(nTerm+\"(+1)$b\"+i);\n    if (options.c) mfs.push(nTerm+\"NH3(+1)$c\"+i);\n}\n\nfunction addITerm(mfs, iTerm, i, j, options) {\n    if (options.ya) mfs.push(\"H\"+iTerm+\"C-1O-1(+1)$a\"+j+\"y\"+i);\n    if (options.yb) mfs.push(\"H\"+iTerm+\"(+1)$b\"+j+\"y\"+i);\n    if (options.yc) mfs.push(\"H\"+iTerm+\"NH3(+1)$c\"+j+\"y\"+i);\n    if (options.zc) mfs.push(\"N-1\"+iTerm+\"NH3(+1)$c\"+j+\"z\"+i);\n}\n\nfunction addCTerm(mfs, cTerm, i, options) {\n    if (options.x) mfs.push(\"CO(+1)\"+cTerm+\"$x\"+i);\n    if (options.y) mfs.push(\"H2(+1)\"+cTerm+\"$y\"+i);\n    if (options.z) mfs.push(\"N-1H-1(+1)\"+cTerm+\"$z\"+i);\n}\n","'use strict';\n\nconst aa = require('./aminoAcids');\n\nfunction convertAASequence(mf) {\n  // this function will check if it is a sequence of aa in 1 letter or 3 letters and convert them if it is the case\n  // it could be a multiline mf !\n  // if it is a multiline we could make some \"tricks\" ...\n  var newMF = mf;\n  // SEQRES   1 B  256  MET PRO VAL GLU ILE THR VAL LYS GLU LEU LEU GLU ALA\n  // SEQRES   2 B  256  GLY VAL HIS PHE GLY HIS GLU ARG LYS ARG TRP ASN PRO\n  // or\n  // MET PRO VAL GLU ILE THR VAL LYS GLU LEU LEU GLU ALA\n  // GLY VAL HIS PHE GLY HIS GLU ARG LYS ARG TRP ASN PRO\n  if (mf.search(/[A-Z]{3} [A-Z]{3} [A-Z]{3}/) > -1) {\n    // this is a PDB !\n    var tmpmf = mf.replace(/[\\r\\n]+/g, ' ');\n    tmpmf = tmpmf.replace(/(SEQRES|[0-9]+| [A-Z] | [0-9A-Z]{4-50})/g, '');\n    // we need to correct the uppercase / lowercase\n    var parts = tmpmf.split(' ');\n    newMF = 'H';\n    for (var i = 0; i < parts.length; i++) {\n      newMF += parts[i].substr(0, 1) + parts[i].substr(1).toLowerCase();\n    }\n    newMF += 'OH';\n  } else if (mf.includes('(')) {\n    // we expect one letter code with modification\n    newMF = '';\n    let nTerminal = 'H';\n    let cTerminal = 'OH';\n    let parenthesisCounter = 0;\n    for (let i = 0; i < mf.length; i++) {\n      let currentSymbol = mf[i];\n      if (\n        currentSymbol === '(' ||\n        currentSymbol === ')' ||\n        parenthesisCounter > 0\n      ) {\n        if (currentSymbol === '(') {\n          parenthesisCounter++;\n          if (i === 0) nTerminal = '';\n        }\n        if (currentSymbol === ')') {\n          parenthesisCounter--;\n          if (i === mf.length - 1) cTerminal = '';\n        }\n        newMF += currentSymbol;\n        continue;\n      }\n      newMF += convertAA1To3(currentSymbol);\n    }\n    newMF = nTerminal + newMF + cTerminal;\n  } else if (\n    mf.search(/[A-Z]{3}/) > -1 &&\n    mf.search(/[a-zA-Z][a-z0-9]/) == -1\n  ) {\n    // UNIPROT\n    //   370        380        390        400        410        420\n    //GFKPNLRKTF VSGLFRESCG AHFYRGVDVK PFYIKKPVDN LFALMLILNR LRGWGVVGGM\n    //\n    //    430        440        450        460        470        480\n    //SDPRLYKVWV RLSSQVPSMF FGGTDLAADY YVVSPPTAVS VYTKTPYGRL LADTRTSGFR\n    // We remove all the number, all the spaces, etc\n    newMF = 'H' + convertAA1To3(newMF.replace(/[^A-Z]/g, '')) + 'OH';\n  }\n\n  return newMF;\n}\n\nfunction convertAA1To3(mf) {\n  var newmf = '';\n  for (var i = 0; i < mf.length; i++) {\n    newmf += aa1To3(mf.charAt(i));\n  }\n  return newmf;\n}\n\nfunction aa1To3(code) {\n  for (var i = 0; i < aa.length; i++) {\n    if (aa[i].aa1 === code) {\n      return aa[i].aa3;\n    }\n  }\n  throw new Error('Invalid 1 letter code: ' + code);\n}\n\nmodule.exports = convertAASequence;\n"],"sourceRoot":""}