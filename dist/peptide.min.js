!function(a,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Peptide=e():a.Peptide=e()}(this,function(){return function(a){function e(t){if(r[t])return r[t].exports;var n=r[t]={exports:{},id:t,loaded:!1};return a[t].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var r={};return e.m=a,e.c=r,e.p="",e(0)}([function(a,e,r){"use strict";function t(a){for(var e=0;e<o.length;e++)if(o[e].aa1===a)return o[e].aa3;throw new Error("Invalid 1 letter code: "+a)}function n(a){for(var e="",r=0;r<a.length;r++)e+=t(a.charAt(r));return e}function p(a,e,r,t){t.a&&a.push(e+"C-1O-1(+1)$a"+r),t.b&&a.push(e+"(+1)$b"+r),t.c&&a.push(e+"NH3(+1)$c"+r)}function c(a,e,r,t,n){n.ya&&a.push("H"+e+"C-1O-1(+1)$a"+t+"y"+r),n.yb&&a.push("H"+e+"(+1)$b"+t+"y"+r)}function i(a,e,r,t){t.x&&a.push("CO(+1)"+e+"$x"+r),t.y&&a.push("H2(+1)"+e+"$y"+r),t.z&&a.push("N-1H-1(+1)"+e+"$z"+r)}var o=r(1),s=r(2),l=r(3);e.getInfo=function(){return o},e.calculateIEP=function(a){var e=a.replace(/([A-Z])/g," $1").split(/ /);e=e.slice(2,e.length-2);var r=s.calculateIEP(e);return r},e.calculateIEPChart=function(a){var e=a.replace(/([A-Z])/g," $1").split(/ /);e=e.slice(2,e.length-2);var r=s.calculateChart(e);return r},e.getColorForIEP=function(a){return s.getColor(a)},e.calculateCharge=function(a,e){var r=a.replace(/([A-Z])/g," $1").split(/ /);return r=r.slice(2,r.length-2),s.calculateCharge(r,e)},e.generatePeptideFragments=function(a,e){void 0===e&&(e={a:!1,b:!0,c:!1,x:!1,y:!0,z:!1,i:!1,yb:!1,ya:!1});for(var r=[],t=a.replace(/([a-z\)])([A-Z][a-z](?=[a-z]))/g,"$1 $2").split(/ /),n="",o="",s=1;s<t.length;s++)if(n+=t[s-1],o=t[t.length-s]+o,p(r,n,s,e),i(r,o,s,e),e.i&&r.push(t[s]+"HC-1O-1(+1)$i:"+t[s]),e.ya||e.yb)for(var l=s+1;l<t.length;l++){for(var u="",h=s;l>h;h++)u+=t[h];c(r,u,s,l,e)}return 0===r.length&&(r=r.concat([a])),r},e.chargePeptide=l,e.convertAASequence=function(a){var e=a;if(a.search(/[A-Z]{3} [A-Z]{3} [A-Z]{3}/)>-1){var r=a.replace(/[\r\n]+/g," ");r=r.replace(/(SEQRES|[0-9]+| [A-Z] | [0-9A-Z]{4-50})/g,"");var t=r.split(" ");e="H";for(var p=0;p<t.length;p++)e+=t[p].substr(0,1)+t[p].substr(1).toLowerCase();e+="OH"}else a.search(/[A-Z]{3}/)>-1&&-1==a.search(/[a-zA-Z][a-z0-9]/)&&(e="H"+n(e.replace(/[^A-Z]/g,""))+"OH");return e}},function(a,e){"use strict";a.exports=[{name:"Alanine",aa3:"Ala",aa1:"A",sc:{type:"hydrophobic"},pKaC:2.33,pKaN:9.71},{name:"Arginine",aa3:"Arg",aa1:"R",sc:{type:"positive",pKa:12.1},pKaC:2.03,pKaN:9},{name:"Asparagine",aa3:"Asn",aa1:"N",sc:{type:"polar"},pKaC:2.13,pKaN:9.05},{name:"Aspartic acid",aa3:"Asp",aa1:"D",sc:{type:"negative",pKa:3.71},pKaC:1.95,pKaN:9.66},{name:"Cysteine",aa3:"Cys",aa1:"C",sc:{type:"special",pKa:8.14},pKaC:1.91,pKaN:10.28},{name:"Glutamic acid",aa3:"Glu",aa1:"E",sc:{type:"negative",pKa:4.15},pKaC:2.16,pKaN:9.58},{name:"Glutamine",aa3:"Gln",aa1:"Q",sc:{type:"polar"},pKaC:2.18,pKaN:9},{name:"Glycine",aa3:"Gly",aa1:"G",sc:{type:"special"},pKaC:2.34,pKaN:9.58},{name:"Histidine",aa3:"His",aa1:"H",sc:{type:"positive",pKa:6.04},pKaC:1.7,pKaN:9.09},{name:"Isoleucine",aa3:"Ile",aa1:"I",sc:{type:"hydrophobic"},pKaC:2.26,pKaN:9.6},{name:"Leucine",aa3:"Leu",aa1:"L",sc:{type:"hydrophobic"},pKaC:2.32,pKaN:9.58},{name:"Lysine",aa3:"Lys",aa1:"K",sc:{type:"positive",pKa:10.67},pKaC:2.15,pKaN:9.16},{name:"Methionine",aa3:"Met",aa1:"M",sc:{type:"hydrophobic"},pKaC:2.16,pKaN:9.08},{name:"Phenylalanine",aa3:"Phe",aa1:"F",sc:{type:"hydrophobic"},pKaC:2.18,pKaN:9.09},{name:"Proline",aa3:"Pro",aa1:"P",sc:{type:"special"},pKaC:1.95,pKaN:10.47},{name:"Serine",aa3:"Ser",aa1:"S",sc:{type:"polar"},pKaC:2.13,pKaN:9.05},{name:"Threonine",aa3:"Thr",aa1:"T",sc:{type:"polar"},pKaC:2.2,pKaN:8.96},{name:"Tryptophan",aa3:"Trp",aa1:"W",sc:{type:"hydrophobic"},pKaC:2.38,pKaN:9.34},{name:"Tyrosine",aa3:"Tyr",aa1:"Y",sc:{type:"hydrophobic"},pKaC:2.24,pKaN:9.04},{name:"Valine",aa3:"Val",aa1:"V",sc:{type:"hydrophobic"},pKaC:2.27,pKaN:9.52},{name:"Selenocysteine",aa3:"Sec",aa1:"U"},{name:"Pyrrolysine",aa3:"Pyl",aa1:"O"},{name:"Asparagine or aspartic acid",aa3:"Asx",aa1:"B"},{name:"Glutamine or glutamic acid",aa3:"Glx",aa1:"Z"},{name:"Leucine or isoleucine",aa3:"Xle",aa1:"J"},{name:"Unspecified or unknown",aa3:"Xaa",aa1:"X"}]},function(a,e,r){"use strict";function t(a,e){e||(e=7);var r=i(a);if(r){var t=c(r,e);return Math.round(1e3*t)/1e3}}function n(a){var e=i(a);if(e){for(var r,t=0,n=14,p=14,o=0;Math.abs(p-o)>1e-4;)o=p,p=(n+t)/2,r=c(e,p),r>0?t=p:0>r?n=p:o=p;return Math.round(1e3*p)/1e3}}function p(a){var e=i(a);if(e){for(var r=[],t=[],n=0;14>=n;n+=.01){var p=c(e,n);r.push(p),t.push(Math.abs(p))}return e.y=r,e.yAbs=t,e}}function c(a,e){var r=0;r+=1/(1+Math.pow(10,e-a.first)),r+=-1/(1+Math.pow(10,a.last-e));for(var t in a.acid)r+=-a.acid[t]/(1+Math.pow(10,l[t].sc.pKa-e));for(var t in a.basic)r+=a.basic[t]/(1+Math.pow(10,e-l[t].sc.pKa));return r}function i(a){var e={};if(l[a[0]]&&(e.first=l[a[0]].pKaN,l[a[a.length-1]])){e.last=l[a[a.length-1]].pKaC,e.basic={},e.acid={};for(var r=0;r<a.length;r++){var t=a[r];if(!l[t])return;l[t].sc&&l[t].sc.type&&("positive"==l[t].sc.type?(e.basic[t]||(e.basic[t]=0),e.basic[t]++):"negative"==l[t].sc.type&&(e.acid[t]||(e.acid[t]=0),e.acid[t]++))}return e}}function o(a){if(7>a){3>a&&(a=3);var e=Math.round(255-50*(7-a));return"rgb("+e+","+e+",255)"}if(a>7){a>11&&(a=11);var e=Math.round(255-50*(a-7));return"rgb(255,"+e+","+e+")"}return"rgb(255,255,255)"}for(var s=r(1),l={},u=0;u<s.length;u++)l[s[u].aa3]=s[u];a.exports={calculateIEP:n,calculateCharge:t,calculateChart:p,getColor:o}},function(a,e,r){"use strict";function t(a,e){var e=e||{};void 0===e&&(e.pH=0);var r=e.pH;if(a.match(/^H[A-Z][a-z]{2}/)){var t=a.replace(/^H([A-Z][a-z]{2}).*/,"$1");n[t]&&r<n[t].pKaN&&(a=a.replace(/^H([^+])/,"H+H$1")),console.log(t)}if(a.match(/[A-Z][a-z]{2}OH$/)){var p=a.replace(/.*([A-Z][a-z]{2})OH$/,"$1");n[t]&&r>n[t].pKaC,console.log(p)}return a=a.replace(/(Arg)(?!\()/g,"$1(H+)"),a=a.replace(/(His)(?!\()/g,"$1(H+)"),a=a.replace(/(Lys)(?!\()/g,"$1(H+)"),a=a.replace(/(Asp)(?!\()/g,"$1(H-1-)"),a=a.replace(/(Glu)(?!\()/g,"$1(H-1-)"),a=a.replace(/(Cys)(?!\()/g,"$1(H-1-)")}var n=r(1);a.exports=t}])});
//# sourceMappingURL=peptide.min.js.map