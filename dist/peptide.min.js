!function(e,a){"object"==typeof exports&&"object"==typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?exports.Peptide=a():e.Peptide=a()}("undefined"!=typeof self?self:this,function(){return function(e){var a={};function r(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=e,r.c=a,r.d=function(e,a,n){r.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,a){if(1&a&&(e=r(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var t in e)r.d(n,t,function(a){return e[a]}.bind(null,t));return n},r.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(a,"a",a),a},r.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},r.p="",r(r.s=2)}([function(e,a,r){"use strict";e.exports=[{name:"Alanine",aa3:"Ala",aa1:"A",sc:{type:"hydrophobic"},pKaC:2.33,pKaN:9.71},{name:"Arginine",aa3:"Arg",aa1:"R",sc:{type:"positive",pKa:12.1},pKaC:2.03,pKaN:9},{name:"Asparagine",aa3:"Asn",aa1:"N",sc:{type:"polar"},pKaC:2.13,pKaN:9.05},{name:"Aspartic acid",aa3:"Asp",aa1:"D",sc:{type:"negative",pKa:3.71},pKaC:1.95,pKaN:9.66},{name:"Cysteine",aa3:"Cys",aa1:"C",sc:{type:"special",pKa:8.14},pKaC:1.91,pKaN:10.28},{name:"Glutamic acid",aa3:"Glu",aa1:"E",sc:{type:"negative",pKa:4.15},pKaC:2.16,pKaN:9.58},{name:"Glutamine",aa3:"Gln",aa1:"Q",sc:{type:"polar"},pKaC:2.18,pKaN:9},{name:"Glycine",aa3:"Gly",aa1:"G",sc:{type:"special"},pKaC:2.34,pKaN:9.58},{name:"Histidine",aa3:"His",aa1:"H",sc:{type:"positive",pKa:6.04},pKaC:1.7,pKaN:9.09},{name:"Isoleucine",aa3:"Ile",aa1:"I",sc:{type:"hydrophobic"},pKaC:2.26,pKaN:9.6},{name:"Leucine",aa3:"Leu",aa1:"L",sc:{type:"hydrophobic"},pKaC:2.32,pKaN:9.58},{name:"Lysine",aa3:"Lys",aa1:"K",sc:{type:"positive",pKa:10.67},pKaC:2.15,pKaN:9.16},{name:"Methionine",aa3:"Met",aa1:"M",sc:{type:"hydrophobic"},pKaC:2.16,pKaN:9.08},{name:"Phenylalanine",aa3:"Phe",aa1:"F",sc:{type:"hydrophobic"},pKaC:2.18,pKaN:9.09},{name:"Proline",aa3:"Pro",aa1:"P",sc:{type:"special"},pKaC:1.95,pKaN:10.47},{name:"Serine",aa3:"Ser",aa1:"S",sc:{type:"polar"},pKaC:2.13,pKaN:9.05},{name:"Threonine",aa3:"Thr",aa1:"T",sc:{type:"polar"},pKaC:2.2,pKaN:8.96},{name:"Tryptophan",aa3:"Trp",aa1:"W",sc:{type:"hydrophobic"},pKaC:2.38,pKaN:9.34},{name:"Tyrosine",aa3:"Tyr",aa1:"Y",sc:{type:"hydrophobic"},pKaC:2.24,pKaN:9.04},{name:"Valine",aa3:"Val",aa1:"V",sc:{type:"hydrophobic"},pKaC:2.27,pKaN:9.52},{name:"Selenocysteine",aa3:"Sec",aa1:"U"},{name:"Pyrrolysine",aa3:"Pyl",aa1:"O"},{name:"Asparagine or aspartic acid",aa3:"Asx",aa1:"B"},{name:"Glutamine or glutamic acid",aa3:"Glx",aa1:"Z"},{name:"Leucine or isoleucine",aa3:"Xle",aa1:"J"},{name:"Unspecified or unknown",aa3:"Xaa",aa1:"X"}]},function(e,a,r){"use strict";e.exports=function(e){for(var a=e.replace(/([A-Z])/g," $1").split(/ /),r=0;""===a[r]||"H"===a[r];)r++;for(var n=a.length-1;"O"===a[n]||"H"===a[n];)n--;return a=a.slice(r,n+1)}},function(e,a,r){"use strict";var n=r(0),t=r(3),i=r(4),c=r(6),o=r(1),p=r(7),s=r(8);function u(e){for(var a=0;a<n.length;a++)if(n[a].aa1===e)return n[a].aa3;throw new Error("Invalid 1 letter code: "+e)}function l(e){var a=e;if(e.search(/[A-Z]{3} [A-Z]{3} [A-Z]{3}/)>-1){var r=e.replace(/[\r\n]+/g," "),n=(r=r.replace(/(SEQRES|[0-9]+| [A-Z] | [0-9A-Z]{4-50})/g,"")).split(" ");a="H";for(var t=0;t<n.length;t++)a+=n[t].substr(0,1)+n[t].substr(1).toLowerCase();a+="OH"}else e.search(/[A-Z]{3}/)>-1&&-1==e.search(/[a-zA-Z][a-z0-9]/)&&(a="H"+function(e){for(var a="",r=0;r<e.length;r++)a+=u(e.charAt(r));return a}(a.replace(/[^A-Z]/g,""))+"OH");return a}a.getInfo=function(){return n},a.splitPeptide=o,a.digestPeptide=p,a.calculateIEP=function(e){var a=o(e);return t.calculateIEP(a)},a.calculateIEPChart=function(e){var a=o(e);return t.calculateChart(a)},a.getColorForIEP=function(e){return t.getColor(e)},a.calculateCharge=function(e,a){var r=o(e);return t.calculateCharge(r,a)},a.generatePeptideFragments=s,a.chargePeptide=i,a.allowNeutralLoss=c,a.convertAASequence=l,a.sequenceToMF=l},function(e,a,r){"use strict";for(var n=r(0),t={},i=0;i<n.length;i++)t[n[i].aa3]=n[i];function c(e,a){var r=0;for(var n in r+=1/(1+Math.pow(10,a-e.first)),r+=-1/(1+Math.pow(10,e.last-a)),e.acid)r+=-e.acid[n]/(1+Math.pow(10,t[n].sc.pKa-a));for(var n in e.basic)r+=e.basic[n]/(1+Math.pow(10,a-t[n].sc.pKa));return r}function o(e){var a={};if(t[e[0]]&&(a.first=t[e[0]].pKaN,t[e[e.length-1]])){a.last=t[e[e.length-1]].pKaC,a.basic={},a.acid={};for(var r=0;r<e.length;r++){var n=e[r];if(!t[n])return;t[n].sc&&t[n].sc.type&&("positive"==t[n].sc.type?(a.basic[n]||(a.basic[n]=0),a.basic[n]++):"negative"==t[n].sc.type&&(a.acid[n]||(a.acid[n]=0),a.acid[n]++))}return a}}e.exports={calculateIEP:function(e){var a=o(e);if(a){for(var r,n=0,t=14,i=14,p=0;Math.abs(i-p)>1e-4;)p=i,(r=c(a,i=(t+n)/2))>0?n=i:r<0?t=i:p=i;return Math.round(1e3*i)/1e3}},calculateCharge:function(e,a){a||(a=7);var r=o(e);if(r){var n=c(r,a);return Math.round(1e3*n)/1e3}},calculateChart:function(e){var a=o(e);if(a){for(var r=[],n=[],t=[],i=0;i<=14;i+=.01){var p=c(a,i);n.push(i),r.push(p),t.push(Math.abs(p))}return a.x=n,a.y=r,a.yAbs=t,a}},getColor:function(e){var a;return e<7?(e<3&&(e=3),"rgb("+(a=Math.round(255-50*(7-e)))+","+a+",255)"):e>7?(e>11&&(e=11),"rgb(255,"+(a=Math.round(255-50*(e-7)))+","+a+")"):"rgb(255,255,255)"}}},function(e,a,r){"use strict";var n=r(5);function t(e,a){var r=a.pH;if(e.match(/^H[A-Z][a-z]{2}/)){var t=e.replace(/^H([A-Z][a-z]{2}).*/,"$1");n(t)&&r<n(t).pKaN&&(e=e.replace(/^H([^+])/,"H+H$1"))}if(e.match(/[A-Z][a-z]{2}OH$/)){e.replace(/.*([A-Z][a-z]{2})OH$/,"$1");n(t)&&r>n(t).pKaC&&(e=e.replace(/OH$/,"O-"))}return r<n("Arg").sc.pKa&&(e=e.replace(/(Arg)(?!\()/g,"$1(H+)")),r<n("His").sc.pKa&&(e=e.replace(/(His)(?!\()/g,"$1(H+)")),r<n("Lys").sc.pKa&&(e=e.replace(/(Lys)(?!\()/g,"$1(H+)")),r>n("Asp").sc.pKa&&(e=e.replace(/(Asp)(?!\()/g,"$1(H-1-)")),r>n("Glu").sc.pKa&&(e=e.replace(/(Glu)(?!\()/g,"$1(H-1-)")),r>n("Cys").sc.pKa&&(e=e.replace(/(Cys)(?!\()/g,"$1(H-1-)")),e}e.exports=function(e,a){if(void 0===(a=a||{}).pH&&(a.pH=0),Array.isArray(e)){for(var r=0;r<e.length;r++)e[r]=t(e[r],a);return e}return t(e,a)}},function(e,a,r){"use strict";var n=r(0);e.exports=function(e){if(1===e.length)for(var a=0;a<n.length;a++)if(n[a].aa1===e)return n[a];if(3===e.length)for(a=0;a<n.length;a++)if(n[a].aa3===e)return n[a]}},function(e,a){function r(e,a){return e=(e=e.replace(/(Ser|Thr|Asp|Glu)(?!\()/g,"$1(H-2O-1)0-1")).replace(/(Arg|Lys|Asn|Gln)(?!\()/g,"$1(N-1H-3)0-1")}e.exports=function(e,a){if(Array.isArray(e)){for(var n=0;n<e.length;n++)e[n]=r(e[n]);return e}return r(e)}},function(e,a,r){"use strict";var n=r(1);e.exports=function(e,a){a=a||{},e=e.replace(/^H([^a-z])/,"$1").replace(/OH$/,""),a.enzyme=a.enzyme||"trypsin",void 0===a.minMissed&&(a.minMissed=0),void 0===a.maxMissed&&(a.maxMissed=0),void 0===a.minResidue&&(a.minResidue=0),void 0===a.maxResidue&&(a.maxResidue=Number.MAX_VALUE);var r=function(e){switch(e.toLowerCase().replace(/[^a-z0-9]/g,"")){case"chymotrypsin":return/(Phe|Tyr|Trp)(?!Pro)/g;case"trypsin":return/(Lys|Arg)(?!Pro)/g;case"lysc":return/(Lys)(?!Pro)/g;case"glucph4":return/(Glu)(?!Pro|Glu)/g;case"glucph8":return/(Asp|Glu)(?!Pro|Glu)/g;case"thermolysin":return/()(?=Ile|Leu|Val|Ala|Met|Phe)/g;case"cyanogenbromide":return/(Met)/g}throw new Error("Digestion enzyme: "+e+" is unknown")}(a.enzyme),t=e.replace(r,"$1 ").split(/ /);t[t.length-1]||(t=t.slice(0,t.length-1));for(var i=0,c=0;c<t.length;c++){var o=n(t[c]).length;t[c]={sequence:t[c],nbResidue:o,from:i+1,to:i+o},i+=o}var p=[];for(c=0;c<t.length-a.minMissed;c++)for(var s=a.minMissed;s<=Math.min(a.maxMissed,t.length-c-1);s++){for(var u="",l=(o=0,c);l<=c+s;l++)u+=t[l].sequence,o+=t[l].nbResidue;i=t[c].from;var f=t[c+s].to;u&&o>=a.minResidue&&o<=a.maxResidue&&p.push("H"+u+"OH$D"+i+">"+f)}return p}},function(e,a,r){"use strict";function n(e,a,r,n){n.a&&e.push(a+"C-1O-1(+1)$a"+r),n.b&&e.push(a+"(+1)$b"+r),n.c&&e.push(a+"NH3(+1)$c"+r)}function t(e,a,r,n,t){t.ya&&e.push("H"+a+"C-1O-1(+1)$a"+n+"y"+r),t.yb&&e.push("H"+a+"(+1)$b"+n+"y"+r),t.yc&&e.push("H"+a+"NH3(+1)$c"+n+"y"+r),t.zc&&e.push("N-1"+a+"NH3(+1)$c"+n+"z"+r)}function i(e,a,r,n){n.x&&e.push("CO(+1)"+a+"$x"+r),n.y&&e.push("H2(+1)"+a+"$y"+r),n.z&&e.push("N-1H-1(+1)"+a+"$z"+r)}e.exports=function(e,a){void 0===a&&(a={a:!1,b:!0,c:!1,x:!1,y:!0,z:!1,i:!1,ya:!1,yb:!1,yc:!1,zc:!1}),a.maxInternal=a.maxInternal||Number.MAX_VALUE,a.minInternal=a.minInternal||0;for(var r=[],c=e.replace(/([a-z\)0-9])([A-Z][a-z](?=[a-z]))/g,"$1 $2").split(/ /),o="",p="",s=1;s<c.length;s++)if(o+=c[s-1],p=c[c.length-s]+p,n(r,o,s,a),i(r,p,s,a),a.i&&r.push(c[s]+"HC-1O-1(+1)$i:"+c[s]),a.ya||a.yb||a.yc||a.zc)for(var u=s+1;u<Math.min(c.length,a.maxInternal+s+1);u++){var l="";if(u-s>=a.minInternal){for(var f=s;f<u;f++)l+=c[f];t(r,l,c.length-s,u,a)}}return 0===r.length&&(r=r.concat([e])),r}}])});
//# sourceMappingURL=peptide.min.js.map